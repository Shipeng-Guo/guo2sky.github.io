<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>果子学生信</title>
  
  <subtitle>一个临床医生的生信之路</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://guoshipeng.com/"/>
  <updated>2017-11-16T10:16:02.589Z</updated>
  <id>http://guoshipeng.com/</id>
  
  <author>
    <name>Shipeng Guo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>22.GTF_RefG</title>
    <link href="http://guoshipeng.com/2017/11/16/22-GTF-RefG/"/>
    <id>http://guoshipeng.com/2017/11/16/22-GTF-RefG/</id>
    <published>2017-11-16T10:06:11.000Z</published>
    <updated>2017-11-16T10:16:02.589Z</updated>
    
    <content type="html"><![CDATA[<p>虽然我们已经找到<a href="http://guoshipeng.com/2017/11/16/20-GTF-in-R/">在R语言中读取GTF文件的最好方法</a><br>但是不妨碍我们学习新的方法<br>实际上rtracklayer::import就是个另类，一般而言大家读入GTF文件后只有9行<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171116/6hKfCc6Hbd.png" alt="mark"><br>refGenome也是，但是他可以把第九行轻松地取出来<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">install.packages(&quot;refGenome&quot;)</div><div class="line">library(refGenome)</div></pre></td></tr></table></figure></p><p>create ensemblGenome object for storing Ensembl genomic annotation data<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ens &lt;- ensemblGenome()</div></pre></td></tr></table></figure></p><p>read GTF file into ensemblGenome object<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">read.gtf(ens, &quot;Homo_sapiens.GRCh38.90.chr.gtf&quot;)</div></pre></td></tr></table></figure></p><blockquote><p>read.gtf(ens, “Homo_sapiens.GRCh38.90.chr.gtf”)<br>[read.gtf.refGenome] Reading file ‘Homo_sapiens.GRCh38.90.chr.gtf’.<br>[GTF]  2612134 lines processed.<br>[read.gtf.refGenome] Extracting genes table.<br>[read.gtf.refGenome] Found 58,243 gene records.<br>[read.gtf.refGenome] Finished.</p></blockquote><p>看一下他属性</p><blockquote><p>class(ens)<br>[1] “ensemblGenome”<br>attr(,”package”)<br>[1] “refGenome”</p></blockquote><p>本次的重点来了create table of genes<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">my_gene &lt;- getGenePositions(ens)</div></pre></td></tr></table></figure></p><blockquote><p>class(my_gene)<br>[1] “data.frame”<br>dim(my_gene)<br>[1] 58243    26</p></blockquote><p>这26个是变量分别是：</p><blockquote><p>testmygene &lt;- my_gene[1:5,]<br>View(testmygene)<br>names(testmygene)<br>[1] “id”                      “seqid”<br>[3] “source”                  “start”<br>[5] “end”                      “score”<br>[7] “strand”                  “frame”<br>[9] “ccds_id”                  “protein_version”<br>[11] “protein_id”              “exon_version”<br>[13] “transcript_support_level” “tag”<br>[15] “exon_number”              “gene_id”<br>[17] “transcript_name”          “gene_version”<br>[19] “gene_name”                “gene_source”<br>[21] “gene_biotype”            “transcript_id”<br>[23] “transcript_source”        “exon_id”<br>[25] “transcript_version”      “transcript_biotype”</p></blockquote><p>获取也是非常容易。<br>其实这个功能完全是可以自己写个函数来搞定的，之前已经写过了。<br>根据这个帖子结合dplyr，他还可以做很多事情<br><a href="https://davetang.org/muse/2017/08/04/read-gtf-file-r/" target="_blank" rel="external">Read GTF file into R</a><br>同时这个文章的作者已经坚持写作7年，是个生物信息学的大神，收入书签！<br>比如可以每个染色体上有哪些gene类型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">my_gene %&gt;% group_by(seqid, gene_biotype) %&gt;% summarise(count = n()) -&gt; my_tally</div><div class="line">ggplot(my_tally, aes(x =seqid, y = log2(count))) +</div><div class="line">  geom_bar(aes(fill = gene_biotype), stat = &apos;identity&apos;, position = &apos;dodge&apos;)</div></pre></td></tr></table></figure></p><p><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171116/9jdmiI5dLf.png" alt="mark"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;虽然我们已经找到&lt;a href=&quot;http://guoshipeng.com/2017/11/16/20-GTF-in-R/&quot;&gt;在R语言中读取GTF文件的最好方法&lt;/a&gt;&lt;br&gt;但是不妨碍我们学习新的方法&lt;br&gt;实际上rtracklayer::import就是个另类，一般而
      
    
    </summary>
    
      <category term="生物信息" scheme="http://guoshipeng.com/categories/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/"/>
    
    
      <category term="R" scheme="http://guoshipeng.com/tags/R/"/>
    
      <category term="TCGA" scheme="http://guoshipeng.com/tags/TCGA/"/>
    
  </entry>
  
  <entry>
    <title>在R语言中读取TCGA的json文件并且获取样本ID</title>
    <link href="http://guoshipeng.com/2017/11/16/21-R-TCGA-json/"/>
    <id>http://guoshipeng.com/2017/11/16/21-R-TCGA-json/</id>
    <published>2017-11-16T09:00:11.000Z</published>
    <updated>2017-11-16T09:01:35.650Z</updated>
    
    <content type="html"><![CDATA[<p>TCGA的原始数据下载后，只有一串字母混合的代号，没有样本号，所有的信息都存在metadata中，但是他的形式是json<br>现在我们来读取json,需要安装jsonlite包。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">metadata &lt;- jsonlite::fromJSON(&quot;metadata.cart.2017-11-15T09_56_59.722935.json&quot;)</div><div class="line">library(tidyverse)</div><div class="line">metadata_id &lt;- metadata %&gt;%</div><div class="line">  select(c(file_name,associated_entities))</div></pre></td></tr></table></figure></p><p>最终读到1208个观测，15个变量，我需要的是file_name和样本名称，样本名称藏在了associated_entities 列表中<br>里面包括了entity_id,case_id,entity_submitter_id,entity_type这四个项目，查看第一个了解一下</p><blockquote><p>metadata$associated_entities[1]<br>[[1]]<br>                            entity_id                              case_id<br>1 52033f64-1e6f-4657-a4fb-7cfeffc61951 39de7761-e762-4811-b95c-8216b79ae06b<br>          entity_submitter_id entity_type<br>1 TCGA-AN-A0XW-01A-11R-A109-07    aliquot</p></blockquote><p>现在的想法是我把ilename和associated_entities中的entity_submitter_id提取出来，放入列表中，形成1208个小列表<br>每个小列表中包含两个元素，即lename和entity_submitter_id<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">name_id &lt;- list()</div><div class="line">for (i in 1:1208)&#123;</div><div class="line">  name_id[[i]] &lt;- substr(metadata_id$file_name[i],1,nchar(metadata_id$file_name[i])-3)</div><div class="line">  name_id[[i]][2] &lt;- metadata_id$associated_entities[i][[1]]$entity_submitter_id</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>##不是很方便尝试直接把list转化成datafram，感受一下do.call的另类用法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">naid_df &lt;- as.data.frame(do.call(rbind, name_id))</div></pre></td></tr></table></figure></p><p>得到的naid_df是一个2列1208行的数据框，实际上一开始避开list也可以完成，只是我选择了list，正好使用一下do.call</p><p>现在把1208个小文件读入一个矩阵文件，并且给每一个文件加上filename和entity_submitter_id<br>之前有个帖子介绍过<br><a href="http://guoshipeng.com/2017/11/10/14-R-for-binding-colums/#more">在R语言中将多个同样的行列式文件合并起来</a><br>但是当时不知道，TCGA的单个文件是没有列名的，导致无法合并，本次要复杂一点<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">#读入所有解压的文件 1208个，参考[R语言中选取多个文件夹中的文件合并到新的文件夹](http://guoshipeng.com/2017/11/13/15-multiple-files-into-one-by-R/)</div><div class="line">nameList &lt;- list.files(&quot;data_unzip/&quot;)</div><div class="line">location &lt;- which(naid_df==nameList[1],arr.ind = TRUE) ##which函数有一个已知value返回坐标的功能</div><div class="line">TCGA_id &lt;- as.character(naid_df[location[1],2]) ##通过坐标，获取TCGA_id</div><div class="line">expr_df&lt;- read.table(paste0(&quot;data_unzip/&quot;,nameList[1]),stringsAsFactors = F, header = F) #读入第一个文件，保存为data.frame</div><div class="line">names(expr_df) &lt;- c(&quot;gene_id&quot;,TCGA_id) #给刚才数据库命名</div></pre></td></tr></table></figure></p><p>这边开始批量作业<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">for (i in 2:length(nameList))&#123;</div><div class="line">  location &lt;- which(naid_df==nameList[i],arr.ind = TRUE)</div><div class="line">  TCGA_id &lt;- as.character(naid_df[location[1],2])</div><div class="line">  dfnew &lt;- read.table(paste0(&quot;data_unzip/&quot;,nameList[i]),stringsAsFactors = F,header = F)</div><div class="line">  names(dfnew) &lt;- c(&quot;gene_id&quot;,TCGA_id)</div><div class="line">  expr_df &lt;- inner_join(expr_df,dfnew,by=&quot;gene_id&quot;)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>晚上走的时候没运行完，早上来的时候已经完毕，限速环节应该是read.table，早上再来尝试运行一次总是说内存不够<br>我想到之前阅读GTF时，fread的速度很快，就试了一下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">library(data.table)</div><div class="line">nameList &lt;- list.files(&quot;data_unzip/&quot;)</div><div class="line">location &lt;- which(naid_df==nameList[1],arr.ind = TRUE)</div><div class="line">TCGA_id &lt;- as.character(naid_df[location[1],2])</div><div class="line">expr_df&lt;- fread(paste0(&quot;data_unzip/&quot;,nameList[1]))</div><div class="line">names(expr_df) &lt;- c(&quot;gene_id&quot;,TCGA_id)</div><div class="line"></div><div class="line">for (i in 2:length(nameList))&#123;</div><div class="line">  location &lt;- which(naid_df==nameList[i],arr.ind = TRUE)</div><div class="line">  TCGA_id &lt;- as.character(naid_df[location[1],2])</div><div class="line">  dfnew &lt;- fread(paste0(&quot;data_unzip/&quot;,nameList[i]))</div><div class="line">  names(dfnew) &lt;- c(&quot;gene_id&quot;,TCGA_id)</div><div class="line">  expr_df &lt;- inner_join(expr_df,dfnew,by=&quot;gene_id&quot;)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>大概花了15分钟左右<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">save(expr_df,file = &quot;brca_expr_df.Rda&quot;)</div></pre></td></tr></table></figure></p><p>如果下次使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">load(file = &quot;brca_expr_df.Rda&quot;)</div></pre></td></tr></table></figure></p><p>更新：无意间看一个帖子说list的获取可以使用$符号，但是在储存的时候要有特定的格式，相当于把第一个变量当做名称，直接￥调用<br>如果成功的话，之前汇总文件的过程就会简单一点,应该是这种格式的循环<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">name_id &lt;- list()</div><div class="line">for (i in 1:1208)&#123;</div><div class="line">  list_name &lt;- substr(metadata_id$file_name[i],1,nchar(metadata_id$file_name[i])-3)</div><div class="line">  name_id$list_name &lt;- metadata_id$associated_entities[i][[1]]$entity_submitter_id</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>使用第一个文件试一下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">list_name &lt;- substr(metadata_id$file_name[1],1,nchar(metadata_id$file_name[1])-3)</div><div class="line">name_id$list_name &lt;- metadata_id$associated_entities[1][[1]]$entity_submitter_id</div></pre></td></tr></table></figure></p><p>测试 一下</p><blockquote><p>name_id<br>$list_name<br>[1] “TCGA-AN-A0XW-01A-11R-A109-07”</p></blockquote><p>不对,直接把list_name的表达式放进去又不识别，换成下面的表达式还是不行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">name_id &lt;- list(substr(metadata_id$file_name[1],1,nchar(metadata_id$file_name[1])-3) = metadata_id$associated_entities[1][[1]]$entity_submitter_id)</div></pre></td></tr></table></figure></p><p>看到$符号，我想到我可以把这些数据弄进数据框，只有两行，行名是filename,把TCGAid弄成一行</p><p>试一下第一个数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">name_id &lt;- data.frame()</div><div class="line">list_name &lt;- substr(metadata_id$file_name[1],1,nchar(metadata_id$file_name[1])-3)</div><div class="line">name_id$list_name &lt;- metadata_id$associated_entities[1][[1]]$entity_submitter_id</div></pre></td></tr></table></figure></p><p>不能运行,换一种表达方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">name_id &lt;- data.frame()</div><div class="line">name_id[1,1] &lt;- metadata_id$associated_entities[1][[1]]$entity_submitter_id</div><div class="line">names(name_id)[1] &lt;- substr(metadata_id$file_name[1],1,nchar(metadata_id$file_name[1])-3)</div></pre></td></tr></table></figure></p><p>成功，批量运行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">name_id &lt;- data.frame()</div><div class="line">for (i in 1:1208)&#123;</div><div class="line">  name_id[1,i] &lt;- metadata_id$associated_entities[i][[1]]$entity_submitter_id</div><div class="line">  names(name_id)[i] &lt;- substr(metadata_id$file_name[i],1,nchar(metadata_id$file_name[i])-3)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>运行成功，速度也很快，下面提取每个数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">nameList &lt;- list.files(&quot;data_unzip/&quot;)</div><div class="line">TCGA_id &lt;- name_id$nameList[1]#这一步失败，最后发现是字符串中有-号，暂时没能解决</div></pre></td></tr></table></figure></p><p>总结：<br>fread速度很快<br>R语言的data.frame如果列名包含“-”，无法使用$获取元素，在list中也是一样的情况<br>等以后看能不能解决这个问题吧</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;TCGA的原始数据下载后，只有一串字母混合的代号，没有样本号，所有的信息都存在metadata中，但是他的形式是json&lt;br&gt;现在我们来读取json,需要安装jsonlite包。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;
      
    
    </summary>
    
      <category term="生物信息" scheme="http://guoshipeng.com/categories/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/"/>
    
    
      <category term="R" scheme="http://guoshipeng.com/tags/R/"/>
    
      <category term="TCGA" scheme="http://guoshipeng.com/tags/TCGA/"/>
    
      <category term="编程" scheme="http://guoshipeng.com/tags/%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>在R语言中读取GTF文件的最好方法</title>
    <link href="http://guoshipeng.com/2017/11/16/20-GTF-in-R/"/>
    <id>http://guoshipeng.com/2017/11/16/20-GTF-in-R/</id>
    <published>2017-11-16T07:46:56.000Z</published>
    <updated>2017-11-16T08:28:45.987Z</updated>
    
    <content type="html"><![CDATA[<p>下载的TCGA数据是没有注释的，需要从ensemble上面下载GTF文件，现在需要把GTF文件读入R</p><h2 id="第一种方法rtracklayer-import"><a href="#第一种方法rtracklayer-import" class="headerlink" title="第一种方法rtracklayer::import"></a>第一种方法rtracklayer::import</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">source(&quot;https://bioconductor.org/biocLite.R&quot;)</div><div class="line">biocLite(&quot;rtracklayer&quot;)</div><div class="line">biocLite(&quot;SummarizedExperiment&quot;)</div><div class="line">gtf1 &lt;- rtracklayer::import(&apos;Homo_sapiens.GRCh38.90.chr.gtf&apos;)</div><div class="line">gtf_df &lt;- as.data.frame(gtf1)</div></pre></td></tr></table></figure><p>最终读入27个变量，2612129个观测，测试一下显示的不错<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">test &lt;- gtf_df[1:5,]</div><div class="line">View(test)</div></pre></td></tr></table></figure></p><p>取出我需要的gene_id,gene_biotype,gene_name，成为新的数据框<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">geneid_df &lt;- dplyr::select(gtf_df,c(gene_name,gene_id,gene_biotype))</div></pre></td></tr></table></figure></p><h2 id="第二种方法read-table"><a href="#第二种方法read-table" class="headerlink" title="第二种方法read.table"></a>第二种方法read.table</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gtf2 &lt;- read.table(&apos;Homo_sapiens.GRCh38.90.chr.gtf&apos;, header = FALSE, sep = &apos;\t&apos;)</div></pre></td></tr></table></figure><p>最后发现，速度奇慢无比,取消参考了Y叔的帖子增加参数，读入成功，需要1分钟,读入9个变量<br><a href="https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;mid=2247483986&amp;idx=1&amp;sn=43214f77337bc660a733bbc80ab1124b&amp;chksm=ec43b315db343a03cd51ee6cb96e1646975d08e9ea7a980bed236472b77bc6166e601a977dab&amp;mpshare=1&amp;scene=1&amp;srcid=1116dPlFaunZobi46nhFTAM5#rd" target="_blank" rel="external">根据GTF画基因的多个转录本结构</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">gtf2 &lt;- read.table(&apos;Homo_sapiens.GRCh38.90.chr.gtf&apos;, stringsAsFactors = F, header = FALSE, sep = &apos;\t&apos;,comment = &quot;#&quot;)</div><div class="line">test2  &lt;- gtf2[1:5,]</div></pre></td></tr></table></figure></p><h2 id="第三种方法readr包里面的read-table2"><a href="#第三种方法readr包里面的read-table2" class="headerlink" title="第三种方法readr包里面的read_table2"></a>第三种方法readr包里面的read_table2</h2><p>速度很快，有进度条，读入了18个变量，但是最gene_biotype显示不对<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">gtf3 &lt;- readr::read_table2(&quot;Homo_sapiens.GRCh38.90.chr.gtf&quot;,comment = &quot;#&quot;)</div><div class="line">gtf_df3 &lt;- as.data.frame(gtf3) #转成data.frame</div><div class="line">test3 &lt;- gtf_df3[1:5,]</div><div class="line">View(test3)</div></pre></td></tr></table></figure></p><h2 id="第四种方法read-table，fread"><a href="#第四种方法read-table，fread" class="headerlink" title="第四种方法read.table，fread"></a>第四种方法read.table，fread</h2><p>读入数据跟read.table一样，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">library(data.table)</div><div class="line">genes &lt;- fread(&quot;Homo_sapiens.GRCh38.90.chr.gtf&quot;)</div><div class="line">test4&lt;- genes[1:5,]</div><div class="line">View(test4)</div></pre></td></tr></table></figure></p><p><strong>上一步用时12秒，速度极快,只是读入后没有名字，需要自己添加</strong><br>读入9个变量,跟read.table一样<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">setnames(genes, names(genes), c(&quot;chr&quot;,&quot;source&quot;,&quot;type&quot;,&quot;start&quot;,&quot;end&quot;,&quot;score&quot;,&quot;strand&quot;,&quot;phase&quot;,&quot;attributes&quot;) )</div></pre></td></tr></table></figure></p><p>可选步骤，type那一项有转录本和gene，选取gene，其他有很多转录本<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">genes &lt;- genes[type == &quot;gene&quot;]</div></pre></td></tr></table></figure></p><p>我要的信息粗存在attributes中，构建函数提取<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">extract_attributes &lt;- function(gtf_attributes, att_of_interest)&#123;</div><div class="line">  att &lt;- strsplit(gtf_attributes,&quot;; &quot;)</div><div class="line">  att &lt;- gsub(&quot;\&quot;&quot;,&quot;&quot;,unlist(att))</div><div class="line">  if(!is.null(unlist(strsplit(att[grep(att_of_interest, att)], &quot; &quot;))))&#123;</div><div class="line">    return( unlist(strsplit(att[grep(att_of_interest, att)], &quot; &quot;))[2])</div><div class="line">  &#125;else&#123;</div><div class="line">    return(NA)&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>举例子解释,加入我们需要gene_id<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">gtf_attributes &lt;- genes[1,9]</div><div class="line">att &lt;- strsplit(gtf_attributes,&quot;; &quot;)</div></pre></td></tr></table></figure></p><p>这一步提示non-character argument，后面我查询才知道, 对于第九列的第一行的的获取两种方式返回的格式不一样<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">genes[1,9] #data.frame</div><div class="line">genes$attributes[1] #character</div></pre></td></tr></table></figure></p><p>而strsplit的对象是character,重来<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">gtf_attributes &lt;- genes$attributes[1]</div><div class="line">att &lt;- strsplit(gtf_attributes,&quot;; &quot;)</div><div class="line">att &lt;- gsub(&quot;\&quot;&quot;,&quot;&quot;,unlist(att))</div></pre></td></tr></table></figure></p><p>grep获取位置，获取到内容后分隔,得到的第二个元素是我们需要的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">unlist(strsplit(att[grep(&quot;gene_id&quot;, att)], &quot; &quot;))[2]</div></pre></td></tr></table></figure></p><p>利用函数获得基因列表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">genes$gene_id &lt;- unlist(lapply(genes$attributes, extract_attributes, &quot;gene_id&quot;))</div></pre></td></tr></table></figure></p><p>如果我们选择使用第一种方法rtracklayer::import，这些事情都是不需要做的！！！</p><p>#总结：rtracklayer::import最简单，fread最快，read.table可选，read_table没戏！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;下载的TCGA数据是没有注释的，需要从ensemble上面下载GTF文件，现在需要把GTF文件读入R&lt;/p&gt;
&lt;h2 id=&quot;第一种方法rtracklayer-import&quot;&gt;&lt;a href=&quot;#第一种方法rtracklayer-import&quot; class=&quot;headerl
      
    
    </summary>
    
      <category term="生物信息" scheme="http://guoshipeng.com/categories/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/"/>
    
    
      <category term="R" scheme="http://guoshipeng.com/tags/R/"/>
    
      <category term="TCGA" scheme="http://guoshipeng.com/tags/TCGA/"/>
    
      <category term="编程" scheme="http://guoshipeng.com/tags/%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>用R语言来找回文数</title>
    <link href="http://guoshipeng.com/2017/11/15/19-find-palin/"/>
    <id>http://guoshipeng.com/2017/11/15/19-find-palin/</id>
    <published>2017-11-15T10:31:38.000Z</published>
    <updated>2017-11-15T10:33:14.147Z</updated>
    
    <content type="html"><![CDATA[<p>第4题</p><blockquote><p>A palindromic number reads the same both ways. The largest palindrome made from the product of two 2-digit numbers is 9009 = 91 × 99.<br>Find the largest palindrome made from the product of two 3-digit numbers.</p></blockquote><p>意思是找出两个三位数乘积的最大回文数。<br>最朴素的思路：写一个能判断回文数的函数，把三位数的乘积全部求出，一个个判断是否是回文数，再求最大数。<br>1.首先我们创建一个函数来判断回文数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">if.palin &lt;- function(x)&#123;</div><div class="line">  a &lt;- as.character(x)</div><div class="line">  b &lt;- unlist(strsplit(a,&quot;&quot;))</div><div class="line">  if (all(b==b[length(b):1])) return (TRUE)</div><div class="line">  else return(FALSE)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>2.穷尽所有的三位数乘三位数的乘积<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">g &lt;- 0</div><div class="line">palin &lt;- c()</div><div class="line">for (i in 100:999)&#123;</div><div class="line">  for (j in 100:999)&#123;</div><div class="line">    if (if.palin(i*j)==TRUE)&#123;</div><div class="line">      g &lt;- g +1</div><div class="line">      palin[g] &lt;- i*j</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>3.找出最大的回文数<br>max(palin)</p><blockquote><p>906609</p></blockquote><p>4.如果想知道每个回文数是由哪两个数组成的怎么办？<br>改写一下代码，每次把结果存入列表中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">g &lt;- 0</div><div class="line">palin &lt;- list()</div><div class="line">for (i in 100:999)&#123;</div><div class="line">  for (j in 100:999)&#123;</div><div class="line">    if (if.palin(i*j)==TRUE)&#123;</div><div class="line">      g &lt;- g +1</div><div class="line">      palin[g] &lt;- list(c(i*j,i,j))</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>获取列表中每个列表的第一个数，注意”[[“在这个时候代表的是函数，表示获取<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">all &lt;- sapply(palin,&quot;[[&quot;,1)</div><div class="line">max(all)</div></pre></td></tr></table></figure></p><p>得到906609，根据这个数值获取位置</p><blockquote><p>which(all ==906609)<br>[1] 2367 2468</p></blockquote><p>有两个位置，这个情况是由之前的循环导致的，应该是一样的结果，只是顺序对调。</p><blockquote><p>palin[2367]<br>[[1]]<br>[1] 906609    913    993</p></blockquote><p>最终最大的回文数是906609，由913乘以993得到<br>note：<br>1.本次练习开始写函数，参考资料为Advanced R 第二版，但是这函数只能起到判断的作用。<br>2.rev()函数可以实现向量倒序，代替b[length(b):1])) = rev(b)<br>3.切开字符串使用strsplit,如果在拼回去需要用paste</p><blockquote><p>paste(c(“B”,”S”),collapse = “”)<br>[1] “BS”</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;第4题&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A palindromic number reads the same both ways. The largest palindrome made from the product of two 2-digit number
      
    
    </summary>
    
      <category term="Project Euler" scheme="http://guoshipeng.com/categories/Project-Euler/"/>
    
    
      <category term="R" scheme="http://guoshipeng.com/tags/R/"/>
    
      <category term="编程" scheme="http://guoshipeng.com/tags/%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>万万使不得！-R语言中的循环套循环</title>
    <link href="http://guoshipeng.com/2017/11/15/18-find-prime/"/>
    <id>http://guoshipeng.com/2017/11/15/18-find-prime/</id>
    <published>2017-11-15T02:32:57.000Z</published>
    <updated>2017-11-15T02:35:18.660Z</updated>
    
    <content type="html"><![CDATA[<p>这是第3题</p><blockquote><p>The prime factors of 13195 are 5, 7, 13 and 29.<br>What is the largest prime factor of the number 600851475143 ?</p></blockquote><p>就是找出600851475143中最大的质数。<br>我的思路是，找出小于600851475143的质数，得到质数表，然后用600851475143除以这些质数再判断<br>首先找出小于600851475143的质数<br>思路是，如果一个数不能被其他除了自己和1的数整除，那么他就是质数，很明显我是按照定义来的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">k &lt;- 2</div><div class="line">x &lt;-c(2,3)</div><div class="line">for (j in 5:600851475143)&#123;</div><div class="line">  a &lt;-c()</div><div class="line">  for (i in 2:(j-1))&#123;</div><div class="line">    a[i-1] = sum( j%%i == 0)</div><div class="line">  &#125;</div><div class="line">  if (sum(a)==0)&#123;</div><div class="line">    k = k + 1</div><div class="line">    x[k] = j</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>运行后提示：</p><blockquote><p>Error: cannot allocate vector of size 4476.7 Gb</p></blockquote><p>我想了一下，不需要数到600851475143，到他的平方根即可<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">k &lt;- 2</div><div class="line">x &lt;-c(2,3)</div><div class="line">for (j in 5:sqrt(600851475143))&#123;</div><div class="line">  a &lt;-c()</div><div class="line">  for (i in 2:(j-1))&#123;</div><div class="line">    a[i-1] = sum( j%%i == 0)</div><div class="line">  &#125;</div><div class="line">  if (sum(a)==0)&#123;</div><div class="line">    k = k + 1</div><div class="line">    x[k] = j</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>这一次应该可以，但是运行时间太久，我等了半天都不行，我先测试一下代码是否正确<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">k &lt;- 2</div><div class="line">x &lt;-c(2,3)</div><div class="line">for (j in 5:10000)&#123;</div><div class="line">  a &lt;-c()</div><div class="line">  for (i in 2:(j-1))&#123;</div><div class="line">    a[i-1] = sum( j%%i == 0)</div><div class="line">  &#125;</div><div class="line">  if (sum(a)==0)&#123;</div><div class="line">    k = k + 1</div><div class="line">    x[k] = j</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>运行大概需要20s，k是1229,说明找到了1229个质数，最大的是max(x),9973<br>那么用600851475143除以x[k],先看看这一群中能除尽的最大数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">y &lt;- 600851475143</div><div class="line">x[which(y %% x==0)]</div></pre></td></tr></table></figure></p><p>输出结果是</p><blockquote><p>x[which(y %% x==0)]<br>[1] 71 839 1471 6857</p></blockquote><p>最大是6857，恰巧这四个数的乘积就是600851475143，说明蒙对了。<br>我在想有没有什么通用的方法呢？在网上检索了一下质数的查找方法<br><a href="http://blog.csdn.net/streetballerym/article/details/48983309" target="_blank" rel="external">找质数算法之埃拉托色尼筛选法-Sieve of Eratosthenes算法</a><br>在R语言中使用这个方法获取质数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">x &lt;- 600851475143</div><div class="line">num &lt;- 2:sqrt(x)</div><div class="line">i &lt;- 0</div><div class="line">wt &lt;- c(2) #用于储存质数</div><div class="line">repeat&#123;</div><div class="line">  i &lt;- i +1</div><div class="line">  num &lt;- num[which(num %% num[1] !=0)] #每次把第一个数以及他的倍数去除</div><div class="line">  wt[i+1] &lt;- num[1] #把第一个数传入向量中</div><div class="line">  if (length(num) == 0) break #repeat需要设定终止条件</div><div class="line">&#125;</div><div class="line">wt &lt;- wt[-length(wt)] #去掉最后一个NA</div></pre></td></tr></table></figure></p><p>最终发现这个方法是可行的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">y &lt;- 600851475143</div><div class="line">wt[which(y %% wt==0)]</div></pre></td></tr></table></figure></p><blockquote><p>wt[which(y %% wt==0)]<br>[1] 71 839 1471 6857</p></blockquote><p>这时候确定无疑就是6857，并且很高兴解决了这么多问题，然后就去参考一下别人博客的答案</p><p>这个先写了一个能判断质数的函数，其中all用的很传神，我在之前不知道有这个函数，就用了迂回的方法代替<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">findprime &lt;- function(x) &#123;</div><div class="line">  if (x %in% c(2,3,5,7)) return(TRUE)</div><div class="line">  if (x%%2 == 0 | x==1) return(FALSE)</div><div class="line">  xsqrt &lt;- round(sqrt(x))</div><div class="line">  xseq &lt;- seq(from=3,to=xsqrt,by=2)</div><div class="line">  if (all(x %% xseq !=0)) return(TRUE)</div><div class="line">  else return(FALSE)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>测试一下效果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">x = 1:700000</div><div class="line">x[sapply(x,findprime)]</div></pre></td></tr></table></figure></p><p>发现速度特别快,下面找出最大的质数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">n &lt;- 600851475143</div><div class="line">for (i in seq(from=3, to=round(sqrt(n)), by=2)) &#123;</div><div class="line">  if (findprime(i) &amp; n %% i == 0) &#123;</div><div class="line">    n &lt;- n / i</div><div class="line">    prime.factor &lt;- i       </div><div class="line">    if (i &gt;= n) break</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">print(prime.factor)</div></pre></td></tr></table></figure></p><p>得到的答案是6857，而且速度很快，几乎是秒出，太惊讶了！！！<br>修改一下代码，得到所有的质数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">n &lt;- 600851475143</div><div class="line">j &lt;- 0</div><div class="line">factor &lt;- c()</div><div class="line">for (i in seq(from=3, to=round(sqrt(n)), by=2)) &#123;</div><div class="line">  if (findprime(i) &amp; n %% i == 0) &#123;</div><div class="line">    n &lt;- n / i</div><div class="line">    j &lt;- j + 1</div><div class="line">    factor[j] &lt;- i       </div><div class="line">    if (i &gt;= n) break</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">print(factor)</div></pre></td></tr></table></figure></p><blockquote><p>print(factor)<br>[1] 71 839 1471 6857</p></blockquote><p>总结：<br>1.使用字母时为什么常用i和j呢？因为他们大小写不容易混淆，我今天使用的是k，大小写分不清，会出现object “k” not found 的提示<br>2.要学会写函数<br>3.尽量不要循环里面套循环，速度会很慢<br>4.all()和any()的用法<br>5.学习Adcanced R里面的函数章节<br>函数<a href="https://adv-r.hadley.nz/functions" target="_blank" rel="external">Functions</a><br>泛函数<a href="https://adv-r.hadley.nz/functionals" target="_blank" rel="external">Functionals</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;这是第3题&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The prime factors of 13195 are 5, 7, 13 and 29.&lt;br&gt;What is the largest prime factor of the number 600851475143 
      
    
    </summary>
    
      <category term="Project Euler" scheme="http://guoshipeng.com/categories/Project-Euler/"/>
    
    
      <category term="R" scheme="http://guoshipeng.com/tags/R/"/>
    
      <category term="编程" scheme="http://guoshipeng.com/tags/%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>R语言中的循环</title>
    <link href="http://guoshipeng.com/2017/11/14/17-loops-in-r/"/>
    <id>http://guoshipeng.com/2017/11/14/17-loops-in-r/</id>
    <published>2017-11-14T01:58:33.000Z</published>
    <updated>2017-11-14T05:07:13.503Z</updated>
    
    <content type="html"><![CDATA[<p>Project Euler01<br>Problem 2, Even Fibonacci numbers</p><blockquote><p>Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:<br>1, 2, 3, 5, 8, 13, 21, 34, 55, 89, …<br>By considering the terms in the Fibonacci sequence whose values do not exceed four million, find the sum of the even-valued terms.</p></blockquote><p>400万以内的偶数斐波那契数列求和</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">x[1] &lt;- 1</div><div class="line">x[2] &lt;- 2</div><div class="line">for (i in 3:1000)&#123;</div><div class="line">  x[i]=x[i-1] +f[i-2]</div><div class="line">  if (x[i] &gt; 4000000)&#123;</div><div class="line">    break</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">x &lt;- x[-i]</div><div class="line">sum(x[x %% 2 == 0])</div></pre></td></tr></table></figure><p>结果4613732<br>但是我并不知道x[i] &gt; 4000000时i是多少，看了别人的答案可以使用while解决这个问题<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">i &lt;- 2</div><div class="line">x &lt;- 1:2</div><div class="line">while (x[i] &lt; 4e6) &#123;</div><div class="line">  x[i+1] &lt;- x[i-1] + x[i]</div><div class="line">  i &lt;- i + 1</div><div class="line">&#125;</div><div class="line">x &lt;- x[-i]</div><div class="line">sum(x[x %% 2 == 0])</div></pre></td></tr></table></figure></p><p>看了一下<a href="https://www.r-bloggers.com/project-euler-problem-2-2/" target="_blank" rel="external">r-bloggers上别人的答案</a><br>发现还可以用repeat这个命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">fibonacci &lt;- numeric()</div><div class="line">fibonacci[1] &lt;- 1</div><div class="line">fibonacci[2] &lt;- 2</div><div class="line">i &lt;- 3</div><div class="line">repeat &#123;</div><div class="line">  fibonacci[i] &lt;- fibonacci[i-1] + fibonacci[i-2]</div><div class="line">  if (fibonacci[i] &gt; 4e6) break</div><div class="line">  i &lt;- i + 1</div><div class="line">&#125;</div><div class="line"># calculate the sum</div><div class="line">fibonacci &lt;- fibonacci[-length(fibonacci)]  # remove the last term</div><div class="line">flag &lt;- fibonacci %% 2 == 0  # find the indexes of even numbers</div><div class="line">result &lt;- sum(fibonacci[flag])</div><div class="line">cat(&quot;The result is:&quot;, result, &quot;\n&quot;)</div></pre></td></tr></table></figure></p><p>现在有两个问题<br>1.repeat和while有什么区别？<br>2.R语言中的循环有多少种？<br>for,while,repeat,向量化操作,apply,自己写的函数也算。<br>这里有一份来自Datacamp的Tutorials十分值得阅读，价值250美元，很长很全面，但是很好懂<br><a href="https://www.datacamp.com/community/tutorials/tutorial-on-loops-in-r" target="_blank" rel="external">A Tutorial on Loops in R - Usage and Alternatives</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Project Euler01&lt;br&gt;Problem 2, Even Fibonacci numbers&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Each new term in the Fibonacci sequence is generated by adding t
      
    
    </summary>
    
      <category term="Project Euler" scheme="http://guoshipeng.com/categories/Project-Euler/"/>
    
    
      <category term="R" scheme="http://guoshipeng.com/tags/R/"/>
    
      <category term="编程" scheme="http://guoshipeng.com/tags/%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>R语言究竟能不能优雅？</title>
    <link href="http://guoshipeng.com/2017/11/13/16-project-eluer-01-3-and-5/"/>
    <id>http://guoshipeng.com/2017/11/13/16-project-eluer-01-3-and-5/</id>
    <published>2017-11-13T11:12:50.000Z</published>
    <updated>2017-11-14T05:07:15.927Z</updated>
    
    <content type="html"><![CDATA[<p>Project Euler01<br>今天我无意间进入肖凯的博客，看到这样一篇文章<br><a href="http://xccds1977.blogspot.hk/2012/02/r_24.html" target="_blank" rel="external">R语言编程入门之二：对象和类</a><br>讲得挺好，但是我还是不能理解面向编程这一套逻辑，最近会解决这个问题</p><p>然后在逛博客的时候发现他写的<a href="http://xccds1977.blogspot.hk/2012/08/r1.html" target="_blank" rel="external">笨办法学R编程</a><br>里面举的例子就是<a href="https://projecteuler.net/" target="_blank" rel="external">Project Euler</a> 上的第一题,Project Euler是一系列由易到难的计算机编程挑战，<br>它提供了一个平台来激发我们解决问题的灵感和思路。</p><blockquote><p>找到1000以下，所有能被3或5整除的数，将它们相加</p></blockquote><p>原文如下：</p><blockquote><p>If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23.<br>Find the sum of all the multiples of 3 or 5 below 1000.</p></blockquote><p>我一看挺简单，就尝试做了一下，中途好几次想看答案，忍住没看<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">n =0</div><div class="line">a =c()</div><div class="line">for (x in 1:999) &#123;</div><div class="line">  if (x %% 3==0 | x %% 5 == 0)&#123;</div><div class="line">  n = n +1</div><div class="line">  a[n] = x</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">sum(a)</div></pre></td></tr></table></figure></p><p>最终结果是<br>233168<br>然后我看了一下肖凯的解决方案：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">x &lt;- 1:999</div><div class="line">sum(x[x %% 3 == 0 | x %% 5 == 0 ])</div></pre></td></tr></table></figure></p><p>大惊失色，我的思维还停留在刚学Python那会的水平，差距不是点吧点<br>我在留言下面看到了ygc，应该是Y叔的留言，那是在2013年10月26日的下午<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">x &lt;- 1:999</div><div class="line">sum(ifelse(x%%3 &amp; x%%5, 0,x))</div></pre></td></tr></table></figure></p><p>随即他又给出了一行代码版本，完全的函数式编程范！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sum(sapply(1:999, function(x) ifelse(x%%3 &amp; x%%5, 0, x)))</div></pre></td></tr></table></figure></p><p>前方的路真长<br>接着我又看到了一个奇特版本,思路也很简单，但是在R语言里面我想不到<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sum(seq(3, 999, 3)) + sum(seq(5, 999, 5)) - sum(seq(15, 999, 15))</div></pre></td></tr></table></figure></p><p>我看了一下<a href="https://projecteuler.net/" target="_blank" rel="external">Project Euler</a> 上面现在有600多题，而且还在不断增长<br>是个学习的好机会，但是没有评判结果不行，我又在R-blogger上面发现很多答案<br><a href="https://www.r-bloggers.com/tag/project-euler/" target="_blank" rel="external">https://www.r-bloggers.com/tag/project-euler/</a><br>实在太开心了。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Project Euler01&lt;br&gt;今天我无意间进入肖凯的博客，看到这样一篇文章&lt;br&gt;&lt;a href=&quot;http://xccds1977.blogspot.hk/2012/02/r_24.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;R语言编
      
    
    </summary>
    
      <category term="Project Euler" scheme="http://guoshipeng.com/categories/Project-Euler/"/>
    
    
      <category term="R" scheme="http://guoshipeng.com/tags/R/"/>
    
      <category term="编程" scheme="http://guoshipeng.com/tags/%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>R语言中选取多个文件夹中的文件合并到新的文件夹</title>
    <link href="http://guoshipeng.com/2017/11/13/15-multiple-files-into-one-by-R/"/>
    <id>http://guoshipeng.com/2017/11/13/15-multiple-files-into-one-by-R/</id>
    <published>2017-11-13T01:47:47.000Z</published>
    <updated>2017-11-13T02:05:03.079Z</updated>
    
    <content type="html"><![CDATA[<p>之前的帖子解决了<a href="http://guoshipeng.com/2017/11/10/14-R-for-binding-colums/">在R语言中将多个同样的行列式文件合并起来</a>的问题<br>今天在处理TCGA数据时发现，数据下载后是放在单独的文件夹中的，几百个文件夹里面都有一个我们需要的文件，<br>需要把他们转移到新的文件中去，我看到perl语言的处理方式，应该R语言也可以完成<br>我这么做的原因就是，<br>在使用R语言处理数据时有个观点，我从两个人那边听到的，但是我现在还不能凝练：</p><ul><li>jimmy说，不要把数据导出为excel，然后下次又呆呆地导入，直接储存为”*.Rda”,要用的时候load即可，不需要来回读写</li><li>Y叔说，只要你还没有把图导出来打印，数据就是图，图就是数据，一切转换都有可能</li></ul><p>对我而言，最直接的原因就是，在R语言中处理数据，突然间中断使用其他语言的脚本来处理某个过程，这个状态很诡异，再怎么说R语言也是语言，<br>和其他语言比对perl比，处理数据顶多只是复杂和简单的关系，不应该是不能完成才对！</p><p>##建立测试数据，创建10个文件夹，同时在每个文件夹中创立10个新的文件</p><p>##经过试验我发现，dir不能批量生成，需要使用for循环，但是file可以批量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">for (i in 1:10) &#123;</div><div class="line">  dir.create(paste0(&quot;tmp_&quot;,i)) #创建10个文件夹</div><div class="line">  file.create(paste0(&quot;tmp_&quot;,i,&quot;/counts&quot;,i,&quot;.htq&quot;,seq(1:10))) #同时在每个文件夹中创立10个新的文件</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>查看数据,忽略TCGAbiolinks</p><blockquote><p>dir()<br>[1] “111.R”                  “112.R”                  “TCGAbiolinks.Rproj”<br>[4] “TCGAbiolinks_2.5.7.zip” “tmp_1”                  “tmp_10”<br>[7] “tmp_2”                  “tmp_3”                  “tmp_4”<br>[10] “tmp_5”                  “tmp_6”                  “tmp_7”<br>[13] “tmp_8”</p></blockquote><p>查看tmp_1文件夹中的内容</p><blockquote><p>dir(“tmp_1”)<br>[1] “counts1.htq1”  “counts1.htq10” “counts1.htq2”  “counts1.htq3”<br>[5] “counts1.htq4”  “counts1.htq5”  “counts1.htq6”  “counts1.htq7”<br>[9] “counts1.htq8”  “counts1.htq9”</p></blockquote><p>##任务：取每个文件夹中的第二个文件，就是名称以htq2结尾的文件</p><p>##并且把他们放到一个新的文件夹中去<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">dir.create(&quot;tmp_all&quot;) #创建新的文件夹</div><div class="line">for (dirname in dir()[5:14])&#123;  </div><div class="line">  file &lt;- list.files(dirname,pattern = &quot;*.htq2&quot;) #找到对应文件夹中的内容，pattern可以是正则表达式</div><div class="line">  file.copy(paste0(dirname,&quot;/&quot;,file),&quot;tmp_all&quot;) #复制内容到新的文件夹</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>其中dir()[5:14] 只是因为我自己的文件夹下有很多别的东西，这里是选取我想要的文件夹</p><blockquote><p>dir()[5:14]<br>[1] “tmp_1”  “tmp_10” “tmp_2”  “tmp_3”  “tmp_4”  “tmp_5”  “tmp_6”  “tmp_7”<br>[9] “tmp_8”  “tmp_9”</p></blockquote><p>我们看一下tmp_all是否已经有了文件</p><blockquote><p>dir(“tmp_all”)<br>[1] “counts1.htq2”  “counts10.htq2” “counts2.htq2”  “counts3.htq2”<br>[5] “counts4.htq2”  “counts5.htq2”  “counts6.htq2”  “counts7.htq2”<br>[9] “counts8.htq2”  “counts9.htq2”</p></blockquote><p>最终我发现，R语言处理起来也很简单！<br>有了一个隐蔽的博客真是好，随心所欲地记录。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;之前的帖子解决了&lt;a href=&quot;http://guoshipeng.com/2017/11/10/14-R-for-binding-colums/&quot;&gt;在R语言中将多个同样的行列式文件合并起来&lt;/a&gt;的问题&lt;br&gt;今天在处理TCGA数据时发现，数据下载后是放在单独的文件夹中
      
    
    </summary>
    
      <category term="生物信息" scheme="http://guoshipeng.com/categories/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/"/>
    
    
      <category term="R" scheme="http://guoshipeng.com/tags/R/"/>
    
      <category term="TCGA" scheme="http://guoshipeng.com/tags/TCGA/"/>
    
  </entry>
  
  <entry>
    <title>在R语言中将多个同样的行列式文件合并起来</title>
    <link href="http://guoshipeng.com/2017/11/10/14-R-for-binding-colums/"/>
    <id>http://guoshipeng.com/2017/11/10/14-R-for-binding-colums/</id>
    <published>2017-11-10T11:00:19.000Z</published>
    <updated>2017-11-13T02:13:55.213Z</updated>
    
    <content type="html"><![CDATA[<p>今天在论坛学习TCGA-RNA seq的处理，看见这样一道题，<br><a href="http://www.biotrainee.com:8080/thread-603-1-1.html" target="_blank" rel="external">生信编程直播第四题：多个同样的行列式文件合并起来</a><br>想起当时R语言不熟练，根本不敢去看，今天尝试解决一下，原来如此简单。<br>这也是一个收集教案的过程，以后在课上的例子会生动需对，这一道题可以用来讲解for循环。<br>下载数据，解压到GSE48213_RAW，list.files用于列出文件夹下所包含的文件名<br>inner_join和merge函数一样<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">library(dplyr)</div><div class="line">nameList &lt;- list.files(&quot;GSE48213_RAW/&quot;)</div><div class="line">matrix &lt;- read.table(paste0(&quot;GSE48213_RAW/&quot;,nameList[1]),header = T)</div><div class="line">for (i in 2:length(nameList))&#123;</div><div class="line">  matrix &lt;- inner_join(matrix,</div><div class="line">                      read.table(paste0(&quot;GSE48213_RAW/&quot;,nameList[i]),header = T),</div><div class="line">                      by=&quot;EnsEMBL_Gene_ID&quot;)</div><div class="line">&#125;</div><div class="line">save(matrix,file = &quot;56_cell_expression.Rda&quot;)</div></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;今天在论坛学习TCGA-RNA seq的处理，看见这样一道题，&lt;br&gt;&lt;a href=&quot;http://www.biotrainee.com:8080/thread-603-1-1.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;生信编程直播第四题：
      
    
    </summary>
    
      <category term="生物信息" scheme="http://guoshipeng.com/categories/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/"/>
    
    
      <category term="R" scheme="http://guoshipeng.com/tags/R/"/>
    
  </entry>
  
  <entry>
    <title>在Rstudio server中R的多版本切换</title>
    <link href="http://guoshipeng.com/2017/11/10/13-two-versions-of-R/"/>
    <id>http://guoshipeng.com/2017/11/10/13-two-versions-of-R/</id>
    <published>2017-11-10T06:28:42.000Z</published>
    <updated>2017-11-13T02:05:45.338Z</updated>
    
    <content type="html"><![CDATA[<p>本次记录是为了自己查看：<br>在前一篇文章中，我自己编译了一个R</p><p>安装R version 3.4.2 Patched<br>下载地址:<br><a href="https://stat.ethz.ch/R/daily/" target="_blank" rel="external">https://stat.ethz.ch/R/daily/</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">tar -xf R-patched_2017-11-05.tar.gz</div><div class="line">sudo apt-get build-dep r-base-dev</div><div class="line">./configure --enable-R-shlib=yes</div><div class="line">make</div><div class="line">make check</div><div class="line">sudo make install</div></pre></td></tr></table></figure></p><p>在terminal中使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">which R</div></pre></td></tr></table></figure></p><blockquote><p>/usr/local/bin/R</p></blockquote><p>那么Rstudio会默认使用这个R</p><p>今天又安装了一个新的R，不是编译的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install r-base</div></pre></td></tr></table></figure></p><p>在终端中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/bin/R</div></pre></td></tr></table></figure></p><p>可以打开这个新的版本<br>如果想要能够在Rstudio server中切换<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vim /etc/rstudio/rserver.conf</div></pre></td></tr></table></figure></p><p>在里面写入</p><blockquote><p>rsession-which-r=/usr/bin/R<br>也可以是<br>rsession-which-r=/usr/lib/R</p></blockquote><p>这时候重启Rstudio server ，新开一个session就可以看到版本已经改过来了<br>如果要回到之前的版本在/etc/rstudio/rserver.conf修改即可</p><blockquote><p>rsession-which-r=/usr/local/bin/R<br>也可以是<br>rsession-which-r=/usr/local/lib/R</p></blockquote><p>这个是修改Rstuido中默认的R版本，同时我们可以自定义每个用户的R默认版本，方法如下<br><a href="http://docs.rstudio.com/ide/server-pro/r-versions.html#r-versions" target="_blank" rel="external">http://docs.rstudio.com/ide/server-pro/r-versions.html#r-versions</a><br>内容真实丰富，暂时没搞懂，不过这个文档不错。</p><p>本文参考文章：<br><a href="https://support.rstudio.com/hc/en-us/articles/200486138-Using-Different-Versions-of-R" target="_blank" rel="external">https://support.rstudio.com/hc/en-us/articles/200486138-Using-Different-Versions-of-R</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;本次记录是为了自己查看：&lt;br&gt;在前一篇文章中，我自己编译了一个R&lt;/p&gt;
&lt;p&gt;安装R version 3.4.2 Patched&lt;br&gt;下载地址:&lt;br&gt;&lt;a href=&quot;https://stat.ethz.ch/R/daily/&quot; target=&quot;_blank&quot; re
      
    
    </summary>
    
      <category term="生物信息" scheme="http://guoshipeng.com/categories/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/"/>
    
    
      <category term="R" scheme="http://guoshipeng.com/tags/R/"/>
    
      <category term="Ubuntu" scheme="http://guoshipeng.com/tags/Ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu16.04-R3.4.2下安装clusterProfiler出现错误的解决过程</title>
    <link href="http://guoshipeng.com/2017/11/06/12-ubuntu-and-R/"/>
    <id>http://guoshipeng.com/2017/11/06/12-ubuntu-and-R/</id>
    <published>2017-11-06T10:17:40.000Z</published>
    <updated>2017-11-10T06:30:17.204Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171106/CCJlG5IGil.jpg" alt="mark"><br>最近在学习聚类分析，看了Y叔的一系列帖子，觉得clusterProfiler就是传说中一包走天下的神包<br>在windows和mac都安装成功，这是背景。<br><a id="more"></a><br>在Ubuntu16.04，R3.4.2(2017-09-28)下运行一下命令，发生错误<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">source(&quot;https://bioconductor.org/biocLite.R&quot;)</div><div class="line">biocLite(&apos;clusterProfiler&apos;)</div></pre></td></tr></table></figure></p><blockquote><p>** preparing package for lazy loading<br>Creating a new generic function for ‘append’ in package ‘BiocGenerics’<br>Creating a new generic function for ‘as.data.frame’ in package ‘BiocGenerics’<br>Creating a new generic function for ‘cbind’ in package ‘BiocGenerics’<br>Error : identical(as.call(parse(text = old_code)[[1L]]), body[[7L]][[3L]]) is not TRUE<br>Error in apply_hotfix73465(getGeneric(“cbind”)) :<br>  hotfix failed for generic function cbind()<br>Error : unable to load R code in package ‘BiocGenerics’<br>ERROR: lazy loading failed for package ‘BiocGenerics’</p><ul><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/BiocGenerics’<br>ERROR: dependency ‘BiocGenerics’ is not available for package ‘S4Vectors’</li><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/S4Vectors’<br>ERROR: dependencies ‘BiocGenerics’, ‘S4Vectors’ are not available for package ‘IRanges’</li><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/IRanges’<br>ERROR: dependencies ‘BiocGenerics’, ‘IRanges’, ‘S4Vectors’ are not available for package ‘AnnotationDbi’</li><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/AnnotationDbi’<br>ERROR: dependency ‘AnnotationDbi’ is not available for package ‘DO.db’</li><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/DO.db’<br>ERROR: dependency ‘AnnotationDbi’ is not available for package ‘GO.db’</li><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/GO.db’<br>ERROR: dependencies ‘AnnotationDbi’, ‘GO.db’ are not available for package ‘GOSemSim’</li><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/GOSemSim’<br>ERROR: dependencies ‘AnnotationDbi’, ‘DO.db’, ‘GOSemSim’, ‘igraph’, ‘S4Vectors’ are not available for package ‘DOSE’</li><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/DOSE’<br>ERROR: dependencies ‘DOSE’, ‘AnnotationDbi’, ‘GO.db’, ‘GOSemSim’ are not available for package ‘clusterProfiler’</li><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/clusterProfiler’</li></ul></blockquote><p>如果仅仅运行这个代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">source(&quot;https://bioconductor.org/biocLite.R&quot;)</div><div class="line">biocLite()</div></pre></td></tr></table></figure></p><blockquote><p>Error : unable to load R code in package ‘BiocGenerics’<br>ERROR: lazy loading failed for package ‘BiocGenerics’</p><ul><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/BiocGenerics’<br>ERROR: dependency ‘BiocGenerics’ is not available for package ‘S4Vectors’</li><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/S4Vectors’<br>ERROR: dependencies ‘BiocGenerics’, ‘S4Vectors’ are not available for package ‘IRanges’</li><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/IRanges’<br>ERROR: dependencies ‘BiocGenerics’, ‘IRanges’, ‘S4Vectors’ are not available for package ‘AnnotationDbi’</li><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/AnnotationDbi’</li></ul></blockquote><p>追根溯源就是第一个<strong>‘BiocGenerics’</strong>没有安装成功<br>那我就来单独安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">source(&quot;https://bioconductor.org/biocLite.R&quot;)</div><div class="line">biocLite(&apos;BiocGenerics&apos;)</div></pre></td></tr></table></figure></p><p>报错信息如下：</p><blockquote><p>** preparing package for lazy loading<br>Creating a new generic function for ‘append’ in package ‘BiocGenerics’<br>Creating a new generic function for ‘as.data.frame’ in package ‘BiocGenerics’<br>Creating a new generic function for ‘cbind’ in package ‘BiocGenerics’<br>Error : identical(as.call(parse(text = old_code)[[1L]]), body[[7L]][[3L]]) is not TRUE<br>Error in apply_hotfix73465(getGeneric(“cbind”)) :<br>  hotfix failed for generic function cbind()<br>Error : unable to load R code in package ‘BiocGenerics’<br>ERROR: lazy loading failed for package ‘BiocGenerics’</p><ul><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/BiocGenerics’</li></ul></blockquote><p>实际上如果biocLite(‘BiocGenerics’)装不上，那么内部缺少的依赖包不能通过biocLite(‘xxx’)这种形式安装<br>在R语言中执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sessionInfo()</div></pre></td></tr></table></figure></p><blockquote><p>R version 3.4.2 (2017-09-28)<br>Platform: x86_64-pc-linux-gnu (64-bit)<br>Running under: Ubuntu 16.04.3 LTS<br>Matrix products: default<br>BLAS: /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.7.1<br>LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.7.1<br>locale:<br>[1] LC_CTYPE=en_US.UTF-8      LC_NUMERIC=C              LC_TIME=en_US.UTF-8<br>[4] LC_COLLATE=en_US.UTF-8    LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8<br>[7] LC_PAPER=en_US.UTF-8      LC_NAME=C                  LC_ADDRESS=C<br>[10] LC_TELEPHONE=C            LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C<br>attached base packages:<br>[1] parallel  stats    graphics  grDevices utils    datasets  methods  base<br>other attached packages:<br>[1] BiocInstaller_1.28.0 ggpubr_0.1.5        magrittr_1.5        ggplot2_2.2.1<br>[5] survival_2.41-3      dplyr_0.7.4          bindrcpp_0.2<br>loaded via a namespace (and not attached):<br>[1] Rcpp_0.12.13    compiler_3.4.2  plyr_1.8.4      bindr_0.1        tools_3.4.2<br>[6] tibble_1.3.4    gtable_0.2.0    nlme_3.1-131    lattice_0.20-35  pkgconfig_2.0.1<br>[11] rlang_0.1.2      Matrix_1.2-11    psych_1.7.8      yaml_2.1.14      knitr_1.17<br>[16] grid_3.4.2      glue_1.2.0      R6_2.2.2        foreign_0.8-69  scales_0.5.0<br>[21] splines_3.4.2    assertthat_0.2.0 mnormt_1.5-5    colorspace_1.3-2 lazyeval_0.2.1<br>[26] munsell_0.4.3</p></blockquote><p>也看不出什么名堂<br>google发现有人在bioconduct社区提问了相同的问题：<br><a href="https://support.bioconductor.org/p/101833/" target="_blank" rel="external">https://support.bioconductor.org/p/101833/</a></p><p>给出来三种解决方法：<br>第一，说尝试打开一个新的R session可以解决问题<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">R --vanilla</div></pre></td></tr></table></figure></p><p>照做后发现不能解决问题<br>有人在评论里面说</p><blockquote><p>Glad that installing R 3.4.2 Patched solved the problem</p></blockquote><p>但是这个版本我下载configure会报错(实际上是我不会编译R)就放弃了</p><p>我还看到有人说，</p><blockquote><p>sudo apt-get install r-bioc-biocgenerics</p></blockquote><p>这个命令可以解决问题<br>照做后显示我安装成功</p><blockquote><p>(Reading database … 185900 files and directories currently installed.)<br>Preparing to unpack …/r-bioc-biocgenerics_0.22.1-1ubuntu1_all.deb …<br>Unpacking r-bioc-biocgenerics (0.22.1-1ubuntu1) …<br>Setting up r-bioc-biocgenerics (0.22.1-1ubuntu1) …</p></blockquote><p>这时候我感到很高兴再来安装Y叔的包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">source(&quot;https://bioconductor.org/biocLite.R&quot;)</div><div class="line">biocLite(&apos;clusterProfiler&apos;)</div></pre></td></tr></table></figure></p><p>又报错：</p><blockquote><p>installing to /home/shipeng/opt/biosoft/R/bioconductor/S4Vectors/libs<br><strong> R</strong> inst<br>** preparing package for lazy loading<br>Error : package ‘BiocGenerics’ 0.22.1 was found, but &gt;= 0.23.3 is required by ‘S4Vectors’<br>ERROR: lazy loading failed for package ‘S4Vectors’</p><ul><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/S4Vectors’</li></ul></blockquote><p>提示我安装的版本不够高<br>好的，现在我的问题可能就是<br><strong>安装版本高一点的R包，但是默认的biocLIte()是不行的</strong><br>我查到可以通过github来安装,并且有两种方式<br>第一种方式需要知道包在github的名字，不是很方便<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">install.packages(&quot;devtools&quot;)</div><div class="line">library(devtools)</div><div class="line">install_github(&quot;xxx&quot;)</div></pre></td></tr></table></figure></p><p>第二种方式方便一点<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">install.packages(&quot;githubinstall&quot;)</div></pre></td></tr></table></figure></p><p>报错</p><blockquote><p>ERROR: configuration failed for package ‘curl’</p><ul><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/curl’<br>Warning in install.packages :<br>installation of package ‘curl’ had non-zero exit status<br>ERROR: dependency ‘curl’ is not available for package ‘githubinstall’</li><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/githubinstall’</li></ul></blockquote><p>提示我缺少curl,那我就装一个<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">install.packages(&quot;curl&quot;)</div></pre></td></tr></table></figure></p><p>报错</p><blockquote><p>ERROR: configuration failed for package ‘curl’</p><ul><li>removing ‘/home/shipeng/opt/biosoft/R/bioconductor/curl’<br>Warning in install.packages :<br>installation of package ‘curl’ had non-zero exit status<br>The downloaded source packages are in<br>  ‘/tmp/Rtmp0YZPFO/downloaded_packages’</li></ul></blockquote><p>还是没能解决,所以安装包的时候出现的问题，不能用R本身来解决！需要走其他的途径<br>网上说这个可以解决问题<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install libcurl4-openssl-dev</div></pre></td></tr></table></figure></p><p>安装完事后我又试了一下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">install.packages(&quot;githubinstall&quot;)</div></pre></td></tr></table></figure></p><p>安装成功，那我就安装BiocGenerics试试<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">library(githubinstall)</div><div class="line">githubinstall(&apos;BiocGenerics&apos;)</div></pre></td></tr></table></figure></p><blockquote><p>Select a number or, hit 0 to cancel.<br>1: Bioconductor/BiocGenerics  S4 generic functions for Bioconductor<br>2: lshep/BiocGenerics        alpha testing github<br>3: nturaga/BiocGenerics      test<br>4: schifferl/BiocGenerics</p></blockquote><p>试了第1个，第二个都失败<br>选择第三个后</p><blockquote><p><strong> help<br>*</strong> installing help indices<br><strong> building package indices</strong> testing if installed package can be loaded</p><ul><li>DONE (BiocGenerics)</li></ul></blockquote><p>成功!!!，我有开始安装Y叔的包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">source(&quot;https://bioconductor.org/biocLite.R&quot;)</div><div class="line">biocLite(&apos;clusterProfiler&apos;)</div></pre></td></tr></table></figure></p><blockquote><p>installing to /home/shipeng/opt/biosoft/R/bioconductor/S4Vectors/libs<br><strong> R</strong> inst<br>** preparing package for lazy loading<br>Error : package ‘BiocGenerics’ 0.23.0 was found, but &gt;= 0.23.3 is required by ‘S4Vectors’</p></blockquote><p>版本还是不够，这回真的没辙了<br>而使用biocLite()安装的报错信息我看不懂</p><blockquote><p>Error : identical(as.call(parse(text = old_code)[[1L]]), body[[7L]][[3L]]) is not TRUE<br>Error in apply_hotfix73465(getGeneric(“cbind”)) :<br>  hotfix failed for generic function cbind()</p></blockquote><p>问了Y叔，给了我一个帖子<a href="https://guangchuangyu.github.io/cn/2016/10/update-r-packages/" target="_blank" rel="external">无痛更新R包</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvcheck::update_all()</div></pre></td></tr></table></figure></p><p>最后发现没有用</p><p>所以我来尝试一下帖子里说的安装R version 3.4.2 Patched<br>下载地址:<br><a href="https://stat.ethz.ch/R/daily/" target="_blank" rel="external">https://stat.ethz.ch/R/daily/</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./configure</div></pre></td></tr></table></figure><p>报错</p><blockquote><p>error: –with-readline=yes (default) and headers/libs are not available</p></blockquote><p>上网查找<br><a href="https://stackoverflow.com/questions/20752307/error-in-install-previous-versions-of-r-on-ubuntu" target="_blank" rel="external">https://stackoverflow.com/questions/20752307/error-in-install-previous-versions-of-r-on-ubuntu</a><br>这里提供解决方案<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install xorg-dev</div></pre></td></tr></table></figure></p><p><a href="https://cran.r-project.org/doc/manuals/R-admin.html#Essential-programs-and-libraries" target="_blank" rel="external">https://cran.r-project.org/doc/manuals/R-admin.html#Essential-programs-and-libraries</a><br>这个文档给出详细的解释</p><blockquote><p>Unless you do not want to view graphs on-screen (or use macOS) you need ‘X11’ installed, including its headers and client libraries. For recent Fedora/RedHat distributions it means (at least) RPMs ‘libX11’, ‘libX11-devel’, ‘libXt’ and ‘libXt-devel’. On Debian/Ubuntu we recommend the meta-package ‘xorg-dev’. If you really do not want these you will need to explicitly configure R without X11, using –with-x=no.</p></blockquote><p>运行后提示：</p><blockquote><p>R is now configured for x86_64-pc-linux-gnu<br>configure: WARNING: you cannot build info or HTML versions of the R manuals<br>configure: WARNING: you cannot build PDF versions of the R manuals<br>configure: WARNING: you cannot build PDF versions of vignettes and help pages</p></blockquote><p>启动R<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo R</div></pre></td></tr></table></figure></p><blockquote><p>R version 3.4.2 Patched (2017-11-05 r73673) – “Short Summer”<br>Copyright (C) 2017 The R Foundation for Statistical Computing<br>Platform: x86_64-pc-linux-gnu (64-bit)</p></blockquote><p>好了应该是按照成功了<br>尝试安装BiocGenerics<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">source(&quot;https://bioconductor.org/biocLite.R&quot;)</div><div class="line">biocLite(&apos;BiocGenerics&apos;)</div></pre></td></tr></table></figure></p><p>最终安装成功</p><blockquote><p><strong> help<br>*</strong> installing help indices<br><strong> building package indices</strong> testing if installed package can be loaded</p><ul><li>DONE (BiocGenerics)</li></ul></blockquote><p>可是我现在启动不了Rstudio</p><blockquote><p>ERROR Unable to find libR.so in expected locations within R Home direc</p></blockquote><p>把libR.so找到，复制指定目录下，最后发现rstudio成功，但是在rstudio所有R还是以前的版本<br>更改各种设置都不行，系统里面有两个R,删除掉其中一个<br>重新安装r<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">tar -xf R-patched_2017-11-05.tar.gz</div><div class="line">sudo apt-get build-dep r-base-dev</div><div class="line">./configure --enable-R-shlib=yes</div><div class="line">make</div><div class="line">make check</div><div class="line">sudo make install</div></pre></td></tr></table></figure></p><p>没有任何报错！！！<br><a href="https://bookdown.org/yihui/r-ninja/setup.html#r" target="_blank" rel="external">https://bookdown.org/yihui/r-ninja/setup.html#r</a><br>谢益辉说的这个无敌命令一次性解决依赖问题<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get build-dep r-base-dev</div></pre></td></tr></table></figure></p><p>在终端启动R<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">source(&quot;https://bioconductor.org/biocLite.R&quot;)</div><div class="line">options(BioC_mirror=&quot;http://mirrors.ustc.edu.cn/bioc/&quot;)</div><div class="line">biocLite(&apos;clusterProfiler&apos;)</div></pre></td></tr></table></figure></p><p>报错<br>说没有装上igraph<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">apt-get install -y r-cran-igraph</div></pre></td></tr></table></figure></p><p>报错<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">E: Could not open lock file /var/lib/dpkg/lock - open (13: Permission denied)</div><div class="line">E: Unable to lock the administration directory (/var/lib/dpkg/), are you root?</div></pre></td></tr></table></figure></p><p>加上root权限：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install -y r-cran-igraph</div></pre></td></tr></table></figure></p><p>安装完了之后，在r里面无法library<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ibrary(igragh)</div></pre></td></tr></table></figure></p><p>使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">install.packages(&quot;igraph&quot;)</div></pre></td></tr></table></figure></p><p>安装成功<br>再来安装Y叔的包<br>DOSE包安装失败<br>安装DOSE包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">devtools::install_github(&quot;GuangchuangYu/DOSE&quot;)</div></pre></td></tr></table></figure></p><p>报错</p><blockquote><p>Error in dyn.load(file, DLLpath = DLLpath, …) :<br>  unable to load shared object ‘/home/shipeng/opt/biosoft/R/bioconductor/stringi/libs/stringi.so’:<br>  libicui18n.so.57: cannot open shared object file: No such file or directory</p></blockquote><p>安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">install.packages(&quot;stringi&quot;)</div></pre></td></tr></table></figure></p><p>安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">biocLite(&apos;DOSE&apos;)</div></pre></td></tr></table></figure></p><p>成功<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">biocLite(&apos;clusterProfiler&apos;)</div></pre></td></tr></table></figure></p><p>成功！！！<br>测试数据：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">biocLite(&quot;ggridges&quot;)</div><div class="line">require(clusterProfiler)</div><div class="line">data(geneList)</div><div class="line">x &lt;- gseKEGG(geneList)</div><div class="line">ridgeplot(x,showCategory = 60)</div></pre></td></tr></table></figure></p><p>出图如下：这图出的不容易！！！！！<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171106/JLH0Fhme3i.png" alt="mark"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://oy0a9ohwa.bkt.clouddn.com/blog/171106/CCJlG5IGil.jpg&quot; alt=&quot;mark&quot;&gt;&lt;br&gt;最近在学习聚类分析，看了Y叔的一系列帖子，觉得clusterProfiler就是传说中一包走天下的神包&lt;br&gt;在windows和mac都安装成功，这是背景。&lt;br&gt;
    
    </summary>
    
      <category term="生物信息" scheme="http://guoshipeng.com/categories/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/"/>
    
    
      <category term="R" scheme="http://guoshipeng.com/tags/R/"/>
    
      <category term="Ubuntu" scheme="http://guoshipeng.com/tags/Ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>perl语言中文件句柄和参数设置的理解</title>
    <link href="http://guoshipeng.com/2017/10/18/11-perl-handle/"/>
    <id>http://guoshipeng.com/2017/10/18/11-perl-handle/</id>
    <published>2017-10-18T11:56:13.000Z</published>
    <updated>2017-10-18T12:02:06.259Z</updated>
    
    <content type="html"><![CDATA[<p>这是过年期间的学习笔记，这段时间被标书虐的死去活来，休息的时候编辑了，这样提交完标书就可以学习RNA-seq了。<br><strong>文件句柄</strong> 这个概念光看字面完全不知所措，但是当我处理了一些数据时慢慢就能够理解。向别人解释一个概念最好的方法是类比，小时候听老师说地球就像鸡蛋，一下就理解了。目前我找到的能解释文件句柄的好类比就是：<br>摆渡船，没错，文件句柄就像摆渡船，他每次去对岸接一定人数的客人到这边来。而文件句柄的作用就是按照你的要求每次从文件中取出一部分数据供你处理。<br>下面举例子来理解：<br>我们要把几个序列格式化输出，要求每行60个字符。<br>原始文件如下：每一个&gt;开头的是一个序列文件，写到这里我突然间就有点伤感，这些东西我是知道的，为什么我还要写下来，给谁看呢，那么多的人在学python，只有少数人在用perl，Larry wall知道了是不是要很生气。我编辑的不是文案，我只是在拼凑破碎的心。<br><a id="more"></a><br>你可以看到每一个序列在每行的长度不一样。<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/13hgG9ifE8.png" alt="mark"><br>总共5个序列，想要让他们按照每一行60个字母呈现出来<br>我打开VIM，写下一下的代码，然后注释了一下。<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/3gJgI95JId.png" alt="mark"><br>运行程序后屏幕上显示：<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/IalE51e7lD.png" alt="mark"><br>说明成功了，那么这时候出现两个问题：</p><ul><li>如果我处理其他文本这么办？</li><li>如果我想每行50个字母，40个字母怎么办？<br>为了解决这个问题，需要引入<strong>参数</strong>这个概念：<br>在原有脚本的基础上，修改两个地方<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/j2KLBgf8kl.png" alt="mark"><br>这时候假如要实现50字母每行，那么就在终端输入：<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/CCED0m2DKl.png" alt="mark"><br>屏幕上显示：<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/B4KhgHkJDB.png" alt="mark"><br>这样我们就算成功了，此时我注意到我在一开始创建测试文件need_cahnge.fa时把scafald写错了，正确的单词应该是Scaffold，所以我准备使用pl程序把他修改好，并且输出到一个新的文件changed.fa<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/Ag51LE0EdL.png" alt="mark"><br>终端输入下列命令：<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/E27CcE5i75.png" alt="mark"><br>这个命令由四个部分组成：</li><li>第一个部分是perl，这是所有执行perl程序都需要的</li><li>第二个部分为perl程序的名称</li><li>第三个部分为第一个参数，就是输入的文件名</li><li>第四个部分为第二个参数，就是输出的文件名<br>最后得到的结果如下：<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/IDjI0j2F45.png" alt="mark"><br>看吧，名称已经换掉了。<br>我想我应该理解perl语言的文件句柄了。<br>实际上当我再次会看这个笔记的时候，我发现我陷入了怪圈，这个例子纯粹是为了将参数的作用<br>要替换一个文本里面的单词，为什么我不直接使用全局替换呢，整这么麻烦还沾沾自喜。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这是过年期间的学习笔记，这段时间被标书虐的死去活来，休息的时候编辑了，这样提交完标书就可以学习RNA-seq了。&lt;br&gt;&lt;strong&gt;文件句柄&lt;/strong&gt; 这个概念光看字面完全不知所措，但是当我处理了一些数据时慢慢就能够理解。向别人解释一个概念最好的方法是类比，小时候听老师说地球就像鸡蛋，一下就理解了。目前我找到的能解释文件句柄的好类比就是：&lt;br&gt;摆渡船，没错，文件句柄就像摆渡船，他每次去对岸接一定人数的客人到这边来。而文件句柄的作用就是按照你的要求每次从文件中取出一部分数据供你处理。&lt;br&gt;下面举例子来理解：&lt;br&gt;我们要把几个序列格式化输出，要求每行60个字符。&lt;br&gt;原始文件如下：每一个&amp;gt;开头的是一个序列文件，写到这里我突然间就有点伤感，这些东西我是知道的，为什么我还要写下来，给谁看呢，那么多的人在学python，只有少数人在用perl，Larry wall知道了是不是要很生气。我编辑的不是文案，我只是在拼凑破碎的心。&lt;br&gt;
    
    </summary>
    
      <category term="生物信息" scheme="http://guoshipeng.com/categories/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/"/>
    
    
      <category term="Perl" scheme="http://guoshipeng.com/tags/Perl/"/>
    
  </entry>
  
  <entry>
    <title>perl语言中的字符串处理及排序</title>
    <link href="http://guoshipeng.com/2017/10/18/10-perl-string/"/>
    <id>http://guoshipeng.com/2017/10/18/10-perl-string/</id>
    <published>2017-10-18T11:44:47.000Z</published>
    <updated>2017-10-18T12:03:53.139Z</updated>
    
    <content type="html"><![CDATA[<p>生物信息中的数据是以字符串形式呈现的，而perl语言90%的常用功能都在处理字符串上。所以我用了一些时间来学习这些处理字符串的手段。<br>比较重要的是index，substr，sort。</p><hr><p>首先是姐妹花index和rindex</p><ul><li><strong>index</strong> 从<strong>左边</strong>开始给出匹配字符的首字符位置</li><li><strong>rindex</strong> 从<strong>右边</strong>开始给出匹配字符的首字符位置</li></ul><p>注意:字符串的第一个位置为0<br>因为放假没办法用到服务器，所以perl语言的学习全是在mac电脑的终端完成的，其实和linux的终端完全一样。<br>下面我们设计了一个字符串，他有两个ATG，第一个ATG的A的位置为0，第二个ATG的A的位置为15，我们试一下:<br><a id="more"></a><br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/f7LDaf8mf9.png" alt="mark"><br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/HHc1L4Jd1i.png" alt="mark"><br>index和rindex有三个参数，第一个为要匹配的序列，第二个为目标字符串，第三个为开始匹配的位置（这个参数可选），当index匹配不到字符串时返回-1，例子中，第四个我们让他从第20个字符开始查找ATG，实际上没有20之后没有ATG了，所以返回值为-1</p><hr><p>既然可以查找字符串的位置，那么就自然想到截取一段序列，这时候要用到substr函数（其实这个概念我是从excel中知道的）<br>还是刚才那个序列，这次的目的是：提取出第二个ATG开始到最后一个TAA结束的序列：<br>思路就是知道要截取的序列，知道开始位置，知道截取长度就可以了。<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/HjBe6fGb6h.png" alt="mark"><br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/8h8Ii74906.png" alt="mark"><br>成功，这里substr也有三个参数，第一个为要匹配的序列，第二个为开始的位置，第三个为匹配的长度。</p><hr><p>这里我们自然而言地想到，可以截取出一段序列，那么将它替换成其他序列便是举手之劳：<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/FcmFlAA7Bm.png" alt="mark"><br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/a3JHCl9lJj.png" alt="mark"><br>实际上，这里的substr功能完全可以用正则表达式来实现，本次不作介绍。</p><hr><p>我们再看看处理的序列由碱基ATCG组成，对于生信工作者而言，把他转换成互补序列，反向序列，反向互补序列也应该成为正常需求。<br>其中反向序列，很好实现，用reverse函数即可，而互补序列用正则表达式的转换功能tr即可(正则表达式有三种模式，匹配，替换，转换)，反向互补序列把得到的互补序列reverse即可：<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/2ehmjgK2BA.png" alt="mark"><br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/iFifhDlbD7.png" alt="mark"></p><hr><p>那么我们再进一步，如何分割字符串呢？用split函数，实际上到了这里我们发现，perl语言中的命令完全就是日常用语，可能原因是，perl的发明者本身就是语言学家，那么设计语言时最好满足自然语义。<br>首先创建一个逗号分隔的字符串，然后尝试几种split分隔的模式及其返回的结果，学习perl语言光看书不行，必须要动手操作，在一个终端里面即时反馈，错了就调试。<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/ilI0aDb8iA.png" alt="mark"><br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/eeG7fAiAfI.png" alt="mark"><br>split的基本用法就是两个参数，返回的是数组，从\@split4可以看出来(4)，如果使用标量上下文返回的是数组元素的个数(1)，如果在末尾加上第三个参数，数字参数，就是限定最终切割的个数，如果是1就是不切割(2,3)，因为split返回的是数组，所以可以使用 []访问数组中的元素(6,7,8,9)，还可以同时命名三个标量，分别赋值见ABC。</p><hr><p>我们可以分割字符，也可以让他们再次连接在一起，而且可以定义连接的方式<br>使用join函数；实际上split和join就是相反的过程：<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/7AEefbacj3.png" alt="mark"><br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/2j7h4LAjkJ.png" alt="mark"></p><hr><p>此时，那些基本的求序列长度，去掉序最后一个字符，字符大小写转换，首字母大小写也需要一并掌握，实际上这时候会感觉很简单：<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/HifFD0L515.png" alt="mark"><br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/9hDh77gjFj.png" alt="mark"><br> 一开始序列长度为56，使用chop切掉末尾的T后只剩下56个，使用lc转换成小写，再使用uc转换成大写，使用lcfirst将首字母小写，使用ucfirst将首字母大写，最后尝试了另外的转换大小写的方式。</p><hr><p>##sort排序功能特别重要<br>perl提供了飞碟操作符：</p><ul><li>\$a &lt;=&gt; \$b 数字大小排序</li><li>\$a cmp \$b 字母顺序排序</li></ul><p>数字排序：<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/ABD2J7DEGK.png" alt="mark"><br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/lIAHi09AFd.png" alt="mark"><br>使用sort直接排序并不能按数字大小排序<br>字母排序：<br>借助字母的排序我测试了几种排序的方法以实现不同的效果<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/7I79j70L22.png" alt="mark"><br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/5i6g7gmi2m.png" alt="mark"><br>通过测试，我发现：</p><ul><li>sort和cmp效果相同(1-2)</li><li>四种忽略大小写的方法都可以实现相同的结果(3-6)</li><li>调换\$a和\$b的位置可以实现和reverse一样的功能(7-8)</li><li>对sort后的数组再用cmp排序可以实现按字母排序，并且大写字母在前(9)</li><li>我想怎么实现小写字母在前呢？在9的基础上，增加判断语句，当两个字母相同时，让小写字母在前面(10)</li></ul><hr><p>借助10的结果，学习一下\$a cmp \$b以及 \$a &lt;=&gt; \$b的功能，实际上他们是sort的一个参数<br>我们先看一下sort的用法</p><ul><li>直接使用,就是sort @array</li><li>自定义排序<br>sort {sub rule} @files<br>{}中就是排序的原则，\$a &lt;=&gt; \$b的意思就是按数字从小到大排序，\$a cmp \$b<br>就是按字母顺序排序，\$，\$b是系统的全局变量，我们记住有这样的用法即可，其中\$a cmp \$b以及 \$a &lt;=&gt; \$b是有返回值的。<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/85d6a824mg.png" alt="mark"><br>此时我们再来理解10的表达式，如果前面两个字母相同，那么返回值就是0，or和||的意思就是如果前面是假则执行后面的程序。<br>这种方法在hash的排序中也有广泛的使用。</li></ul><hr><p>##关于hash的排序<br>准确的说，hash是不能排序的，能够排序的是hash的键名和键值<br>我们先按照键名来排序：<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/6ifcD5795m.png" alt="mark"><br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/GD6bj4l53g.png" alt="mark"><br>实际上生活中更常见的是按照分数从大到小排序，用\$score{$a},表示键名对应的键值：<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/7ElHg1jceA.png" alt="mark"><br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/jje2mG8CK1.png" alt="mark"><br>我们发现，95分有两个人，我们希望当分数一样的安装名称的字母排序<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/JBAJ1H2DB4.png" alt="mark"><br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/a3Ll301CD6.png" alt="mark"></p><hr><p>我想我应该已经入门perl字符串的处理了。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;生物信息中的数据是以字符串形式呈现的，而perl语言90%的常用功能都在处理字符串上。所以我用了一些时间来学习这些处理字符串的手段。&lt;br&gt;比较重要的是index，substr，sort。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;首先是姐妹花index和rindex&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;index&lt;/strong&gt; 从&lt;strong&gt;左边&lt;/strong&gt;开始给出匹配字符的首字符位置&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;rindex&lt;/strong&gt; 从&lt;strong&gt;右边&lt;/strong&gt;开始给出匹配字符的首字符位置&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;注意:字符串的第一个位置为0&lt;br&gt;因为放假没办法用到服务器，所以perl语言的学习全是在mac电脑的终端完成的，其实和linux的终端完全一样。&lt;br&gt;下面我们设计了一个字符串，他有两个ATG，第一个ATG的A的位置为0，第二个ATG的A的位置为15，我们试一下:&lt;br&gt;
    
    </summary>
    
      <category term="生物信息" scheme="http://guoshipeng.com/categories/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/"/>
    
    
      <category term="字符串" scheme="http://guoshipeng.com/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    
      <category term="Perl" scheme="http://guoshipeng.com/tags/Perl/"/>
    
  </entry>
  
  <entry>
    <title>可能是最好用的TCGA数据库GEPIA</title>
    <link href="http://guoshipeng.com/2017/10/18/09-GEPIA/"/>
    <id>http://guoshipeng.com/2017/10/18/09-GEPIA/</id>
    <published>2017-10-18T11:18:27.000Z</published>
    <updated>2017-10-18T11:26:46.066Z</updated>
    
    <content type="html"><![CDATA[<p>听生信群里大神闲聊，说他自己的师弟做了个TCGA可视化工具，我就点开链接看了一下，不点开就算了，一点开不得了，<br>就像我手上的锤子手机，千万别用，用了就无法回头。</p><p>TCGA相关的数据库有很多，<br>但我最关心的功能只有三个，差异表达，生存分析，相关性分析，这也是我筛选课题的一个方向</p><ul><li>能够差异表达是前提</li><li>如果这时候还跟生存相关，那就锦上添花了，</li><li>通过相关性分析找出他的朋友们，所谓物以类聚，看看这个人的朋友基本上就知道他是什么样子的人，</li></ul><blockquote><p>有一个恐怖的传说一直让我后背冒汗心里起火：你的工资是跟你密切交往的6个朋友的平均值，朋友居然重要到这个层面。<br><a id="more"></a></p></blockquote><p>好了，不鬼扯，我们简单介绍一下这个数据库GEPIA（Gene Expression Profilling Interactive Analysis），翻译一下应该是<br>基因表达谱数据动态分析。<br> <a href="http://gepia.cancer-pku.cn/index.html" target="_blank" rel="external">http://gepia.cancer-pku.cn/index.html</a><br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/6kEAhd4C6C.png" alt="mark"><br>这个数据库是北京大学开发的，没有发文章，没有发文章。</p><blockquote><p>This tool is developed by Zefang Tang, Chenwei Li and Boxi Kang of Zhang Lab, Peking University.</p></blockquote><p>我要学学宝剑叔叔右哉，先拟定一个让你痛心的场景，蓝后一步一步帮你解决, 这可能有助于我们直接解决问题。<br>假设，</p><blockquote><p>你现在已经研二了，之前放浪形骸，行散神也散，现在木有课题，木有鱼丸，明年要毕业了，蓝后没有管你<br>也没有男女朋友，没有大师兄，没有沙师弟，你该怎么办呢？</p></blockquote><p>我们可以这样，先找出某个特定癌症中跟生存最相关的一串基因，再来慢慢筛选，正好GEPIA有这个功能。<br>先点击一下Survival Analysis，依次点击<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/B46k1BLEiI.jpg" alt="mark"><br> 用下面的方法也是一样的。还要简单一点。<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/D444m67C1f.jpg" alt="mark"><br> 点击list会出现下面的结果，可以查询，可以翻页，可以一个个复制粘贴用以前讲的方法做GO分析，KEGG分析，互作分析。<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/83Egf4JDFa.jpg" alt="mark"><br> 这里我们直接选择VADC1来看看，首先我们检查一下这个基因分生存分析图究竟是什么样子，点击它<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/achcfah8K1.jpg" alt="mark"><br>这时候相当于进入了单基因入口，这里面给出了这个基因概括，说是线粒体膜的主要组成成分，也跟铁的转运相关，我觉得都是热门方向<br>如果这个领域你hold不住，就返回去再换一个基因点进来，最右边图我觉得很直观，绿色代表VDAC1在正常组织的表达，红色代表在肿瘤组织中的表达<br>可能这张图看不出啥特殊，我举个例子，<br>  <img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/3cAF8ACG1g.jpg" alt="mark"><br>A基因几乎只在乳腺表达，而且在乳腺癌中明显高表达<br>B基因在全身广泛表达，但是表达风度不高，而在乳腺癌中表达显著提高</p><p>好了页面往下拉就可以看到这个基因在多个癌症癌和癌旁的表达情况，我们可以看出他在乳腺癌中是高表达的<br>但是在其他许多癌症中也明显差异表达，这张表不会让你漏掉其他癌症，如果恰巧实验室有人在做那个癌症，你就可以跟他合伙搞一搞嘛。<br>因为你没有人管，没有大师兄，没有沙师弟，你还有什么选择？<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/6046HdieGh.jpg" alt="mark"><br>此外，你是可以选择呈现方式的，按照如下步骤操作可以得到漂亮的癌和癌旁的表达图<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/3C2ka95ejL.jpg" alt="mark"><br> 点击plot之后是这个样子的，可以下载，可以直接放在文章里面<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/126laka1EL.jpg" alt="mark"><br>返回一开始的界面，往下面翻一翻就会看到和这个基因表达类似的基因<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/hiAG9akje5.png" alt="mark"><br> 哎呦歪，里面HNRNPAB就是核内不均一核糖核蛋白家族成员，他可是要调控RNA的可变剪切的，许多LNCRNA作pulldown后就会拉下这个家族的成员<br>相关的文章从SCIENCE，CELL到ONCOTARGETS都有。</p><p> 但是我们差点忘了进来是干什么的，我们是来看生存分析的。依次操作。<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/53blbH9iL7.jpg" alt="mark"><br> 点击plot就会得到下面的图<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/9gKGi2JegI.jpg" alt="mark"><br>这个图真的是漂亮，一点都不含糊，好了这时候课题基本上就有苗头了</p><blockquote><p>VDAC1以暂时不知道的原因升高导致乳腺癌的发生，而乳腺癌患者高表达VADAC1的患者低生存，</p></blockquote><p>而临床医生做科研不外乎诊和疗</p><ul><li>从诊治的角度来说，这个基因表达水平对诊断乳腺癌有没有帮助？</li><li>从治疗的角度来说，既然高表达低生存，那么有没有可能设计抗体来治疗乳腺癌呢？</li></ul><p>当然那个是转化医学，在这之前就是基础医学<br>从研究的角度来看：</p><ul><li>这个基因高表达的原因是什么？表观遗传相关么，突变么，转录激活么，翻译修饰么，搞清楚就已经不容易了。<br>我们试一试表观遗传有没有影响，在UCSC数据库中打开VDAC1，我的妈呀，他的启动子区域这么汹涌澎湃的H3K27ac修饰，说明他的表达量本身就很高，不大可能是个坏分子，要么就是他在癌中突变了，要么就是他启动子在癌症中被过度激活了，我只是说可能<br>那么就会有个子课题产生：<blockquote><p>H3K27ac组蛋白乙酰化修饰促使VDAC1基因启动子激活从而升高其表达</p></blockquote></li></ul><p><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/8Lj44e9jbc.jpg" alt="mark"></p><ul><li>另外一个问题，这个基因在乳腺癌中的功能是什么？<br>可以尝试用生物信息学找到共表达的基因，之前已经列出来了，再去预测他可能有什么功能，<br>也可以直接构建慢病毒shRNA敲减后看看他的表型，<br>可是这不是你想要的，我们需要的是短平快，怎么办呢？查文献，<br>恰好我刚知道那个写过Hallmars of Cancer这篇文章老爷爷Weinberg在nature发表了一篇文章，时间是2017年3月30日，他们找到了乳腺癌中一个新的抑癌基因<br>叫做LACTB，他能够调控脂质代谢抑制乳腺癌，LACTB是一个线粒体相关的蛋白，VDAC1也是一个线粒体相关的蛋白，他们之间可能有联系么？<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/clE4FjED4C.png" alt="mark"><br>他们的联系可能多种多样，我们尝试用现成的工具看一下，相关性分析<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/GGg3KJ8CE9.jpg" alt="mark"><br>点击plot试一下<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/Gff0B2lCmH.png" alt="mark"><br>居然他们还有相关性，欢天喜地庆丰收，毕业在望。可是他们他们应该表达呈负相关才合理呀，<br>这么来把这些结果整合到一起呢？VDAC1和LACTB相关，抑制癌症的产生，蓝后不知怎么的他的启动子就过度活化了<br>然后他就促发了癌症？<br>我觉得自己都说服不了，我们还是换一种思路吧，用string数据库来看一看<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/IcLkm0k9iA.jpg" alt="mark"><br>VDAC1居然跟BAX，BCL2L1相关，表明其可能跟细胞的凋亡相关</li></ul><hr><p><strong>好了最终的课题就是</strong><br>H3K27ac修饰使VDAC1的启动子过度乙酰化促进其表达从而抑制细胞凋亡促进乳腺癌的发展。<br>我觉得这时候真的可以搞一搞了，什么，你没有shRNA？<br>不是说了跟别人合作么，你怎么又搞忘了。<br>蓝后检索一下VDAC1和乳腺癌的文章，发现少之又少，开始吧。<br>这个过程中好像文献阅读并不重要，但是不要忘了LACTB是Weinberg文章里面的<br>LACTB在乳腺癌中的表达和调控还没有研究呢，上面那个课题要是实在弄不好，就换这一个吧。<br>Note: 表观遗传那一块我是不严谨的，应该选乳腺的数据看看修饰，ENCODE数据库就支持。<br>蓝后，我觉得科研结果的呈现最基本的要求就是</p><p>##自洽<br>四个字就是自圆其说，不要前后矛盾，你自己构建了一个体系，一定要让自己信服。<br>自己都不相信的东西还想让别人相信，你把我当什么了。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;听生信群里大神闲聊，说他自己的师弟做了个TCGA可视化工具，我就点开链接看了一下，不点开就算了，一点开不得了，&lt;br&gt;就像我手上的锤子手机，千万别用，用了就无法回头。&lt;/p&gt;
&lt;p&gt;TCGA相关的数据库有很多，&lt;br&gt;但我最关心的功能只有三个，差异表达，生存分析，相关性分析，这也是我筛选课题的一个方向&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;能够差异表达是前提&lt;/li&gt;
&lt;li&gt;如果这时候还跟生存相关，那就锦上添花了，&lt;/li&gt;
&lt;li&gt;通过相关性分析找出他的朋友们，所谓物以类聚，看看这个人的朋友基本上就知道他是什么样子的人，&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;有一个恐怖的传说一直让我后背冒汗心里起火：你的工资是跟你密切交往的6个朋友的平均值，朋友居然重要到这个层面。&lt;br&gt;
    
    </summary>
    
      <category term="生物信息" scheme="http://guoshipeng.com/categories/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/"/>
    
    
      <category term="TCGA" scheme="http://guoshipeng.com/tags/TCGA/"/>
    
      <category term="数据库" scheme="http://guoshipeng.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
      <category term="GEPIA" scheme="http://guoshipeng.com/tags/GEPIA/"/>
    
  </entry>
  
  <entry>
    <title>Linux 安装后要做的事</title>
    <link href="http://guoshipeng.com/2017/10/18/08-linux-apply/"/>
    <id>http://guoshipeng.com/2017/10/18/08-linux-apply/</id>
    <published>2017-10-18T11:05:08.000Z</published>
    <updated>2017-10-18T11:26:14.039Z</updated>
    
    <content type="html"><![CDATA[<p>组装了服务器，又装上了系统，会使用编辑器，我马上就想开始RNA-seq的练习，但是在这之前，有一些事情需要完成。<br>首先要知道如何进入linux的终端，当我没说。</p><p>##知道基本的linux命令</p><blockquote><p>ls,pwd,cd, cat,less,vim</p></blockquote><ul><li>pwd查看当前目录</li><li>ls查看目录下的文件</li><li>cd 切换目录，tab键可以自动补齐<br>详细的可以读一读生信菜鸟的帖子<a href="http://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247483957&amp;idx=1&amp;sn=302a35c3ad63043fd6eb57e76c0ca1e1&amp;chksm=9b48428eac3fcb98c8608abef97c5dd854026df414d2f54fb8b50f7efba3651d930dae2221b1&amp;mpshare=1&amp;scene=1&amp;srcid=0205wFsQKdoRTniFUrV6qcFU#rd" target="_blank" rel="external">教你如何轻松入门Linux</a>，我把它放在了阅读原文里面。<a id="more"></a>##配置SSH<br>虽然我为linux配置了一块屏幕，实际上工作中并不需要，我们用笔记本ssh到服务器，然后直接在自己的笔记本电脑上操作就行了<br>#号表示root权限，$表示普通权限，这两个符号不需要输入。切换root 和普通用户使用命令：<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">su root  #普通转root</div><div class="line">su 用户名 #root转回普通用户，注意大部分时间是在用普通权限，不需要使用root账户分析数据，因为linux认为权限越大，责任越大，你使用root删除资料是没有人提醒你的，删了就是删了。</div></pre></td></tr></table></figure></li></ul><p>终端中输入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"># vim /etc/ssh/sshd_config</div></pre></td></tr></table></figure></p><p>上一次已经说了vim的基本使用，把下面文字前面的#号去掉</p><ul><li>Port 22</li><li>Protocol 2<br>保存退出，再输入：<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"># /etc/init.d/sshd restart</div></pre></td></tr></table></figure></li></ul><p>使用命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ifconfig</div></pre></td></tr></table></figure></p><p>找到类似于192.168这样的地址,然后记住自己的账户名和登录密码<br>使用putty或者xshell即可使用笔记本远程登录自己的服务器<br>此时服务器可以不用关机，屏幕也可以不要了。<br>注意，这里的远程登录，范围大小只是路由器的辐射范围，不能异地远程登录，如果想要实现异地远程登录，即在家使用实验室的服务器，需要服务器有固定IP，而固定IP很贵，买不起，如果没有可以尝试用下面的方法实现。</p><blockquote><p>路由器端口转发</p></blockquote><p>具体过程可以查询解决方案，这时候要注意，一旦路由器断电，或者重启，路由器会获得一个新的IP，这时候需要重新设置，才能继续使用。<br>如果需要再服务器和windows电脑上交换文件，推荐使用windows端的winscp软件，很好用。</p><p>##修改SELinux配置<br>打开SElinux会导致一些生物信息软件安装不了，所以将他关闭<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"># vim /etc/selinux/config</div></pre></td></tr></table></figure></p><p>输入下面文字：</p><ul><li>SELINUX=disabled<br>##安装GCC<br>我们安装的Centos6.5里面含有的是低版本的GCC，而有一些生物信息软件的安装需要高版本的GCC，这一次我们的任务是安装一个高版本的GCC，并且与系统自带的GCC共存。<br>GCC是个编译工具。Linux系统下的GCC（GNU C Compiler）是GNU推出的功能强大、性能优越的多平台编译器，是GNU的代表作品之一。gcc是可以在多种硬体平台上编译出可执行程序的超级编译器，其执行效率与一般的编译器相比平均效率要高20%~30%。其实到目前为止我也搞不清楚，但是我会装，会用。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">sudo mkdir /opt/biosoft /opt/sysoft/ #使用root权限在opt下创建biosoft和sysoft文件夹，以后大部分软件安装在biosoft里面，本次高版本GCC软件安装在syssoft文件夹</div><div class="line">sudo chmod 1777 /opt/biosoft /opt/sysoft/ #使用root修改文件夹的权限</div><div class="line">wget http://mirrors-usa.go-parts.com/gcc/releases/gcc-4.9.3/gcc-4.9.3.tar.bz2 -P ~/software/  #下载高版本GCC到software文件夹</div><div class="line">tar jxf ~/software/gcc-4.9.3.tar.bz2  #打包解压</div><div class="line">cd gcc-4.9.3/ #转到这个目录</div><div class="line">./contrib/download_prerequisites# 下载相应的依赖软件</div><div class="line">sudo yum install glibc-devel.i686</div><div class="line">mkdir ../gcc-build</div><div class="line">cd ../gcc-build</div><div class="line">../gcc-4.9.3/configure --prefix=/opt/sysoft/gcc-4.9.3 --enable-multilib --with-system-zlib</div><div class="line">make -j 8  #8线程编译</div><div class="line">make install</div><div class="line">cd ../ &amp;&amp; rm gcc-build/ gcc-4.9.3/ -rf</div><div class="line">echo &apos;export PKG_CONFIG_PATH=/opt/sysoft/gcc-4.9.3/lib/pkgconfig:$PKG_CONFIG_PATH&apos; &gt;&gt; ~/.bashrc.gcc</div><div class="line">echo &apos;export LD_LIBRARY_PATH=/opt/sysoft/gcc-4.9.3/lib64:/opt/sysoft/gcc-4.9.3/lib:$LD_LIBRAR\ Y_PATH&apos; &gt;&gt; ~/.bashrc.gcc</div><div class="line">echo &apos;export C_INCLUDE_PATH=/opt/sysoft/gcc-4.9.3/include:$C_INCLUDE_PATH&apos; &gt;&gt; ~/.bashrc.gcc</div><div class="line">echo &apos;PATH=/opt/sysoft/gcc-4.9.3/bin/:$PATH&apos; &gt;&gt; ~/.bashrc.gcc</div><div class="line">source ~/.bashrc.gcc</div></pre></td></tr></table></figure></li></ul><p>##安装Python 2.7.11 版本<br>有的软件执行需要Python<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">wget https://www.python.org/ftp/python/2.7.11/Python-2.7.11.tgz -P ~/software/</div><div class="line">tar zxf ~/software/Python-2.7.11.tgz</div><div class="line">cd Python-2.7.11/</div><div class="line">./configure --prefix=/opt/sysoft/Python-2.7.11/</div><div class="line">make -j 8</div><div class="line">make install</div><div class="line">cd .. &amp;&amp; rm Python-2.7.11/ -rf</div><div class="line">echo &apos;PATH=$PATH:/opt/sysoft/Python-2.7.11/bin/:$PATH&apos; &gt;&gt; ~/.bashrc</div><div class="line">source ~/.bashrc</div></pre></td></tr></table></figure></p><p>##安装pip，用于安装Python需要的依赖软件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">wget https://pypi.python.org/packages/45/5e/79ca67a0d6f2f42bfdd9e467ef97398d6ad87ee2fa9c\ 8cdf7caf3ddcab1e/setuptools-23.0.0.tar.gz -P ~/software/Python_modules/</div><div class="line">tar zxf ~/software/Python_modules/setuptools-23.0.0.tar.gz</div><div class="line">cd setuptools-23.0.0/</div><div class="line">/opt/sysoft/Python-2.7.11/bin/python setup.py install</div><div class="line">cd .. &amp;&amp; rm setuptools-23.0.0 -rf</div><div class="line">wget https://pypi.python.org/packages/e7/a8/7556133689add8d1a54c0b14aeff0acb03c64707ce1\ 00ecd53934da1aa13/pip-8.1.2.tar.gz -P ~/software/Python_modules/</div><div class="line">tar zxf ~/software/Python_modules/pip-8.1.2.tar.gz</div><div class="line">cd pip-8.1.2/</div><div class="line">/opt/sysoft/Python-2.7.11/bin/python setup.py install</div><div class="line">cd .. &amp;&amp; rm pip-8.1.2 -rf</div></pre></td></tr></table></figure></p><p>##CentOS下安装软件的常用方法<br>这部分整理自笔记，来源不清楚，也可以看完这部分内容再去完成上面的操作，主要是帮助立即。</p><ul><li>1.一种是软件的源代码，需要自己动手编译它。这种软件安装包通常是用gzip压缩过的tar包（后缀为.tar.gz）。</li><li>2.另一种是软件的可执行程序，只要安装它就可以了。这种软件安装包通常被是一个RPM包（Redhat Linux Packet Manager，就是Redhat的包管理器），后缀是.rpm。<br>##对于需要编译的第一种，分两个部分：<br>###第一部分：.tar.gz<br>首先，将安装文件拷贝至你的目录中。例如，如果你是以root身份登录上的，就将软件拷贝至/root中。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#cp filename.tar.gz /root</div></pre></td></tr></table></figure></li></ul><p>由于该文件是被压缩并打包的，所以，应对其解压缩。命令为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#tar xvzf filename.tar.gz</div></pre></td></tr></table></figure></p><p>执行该命令后，安装文件按路径被解压缩在当前目录下。用ls命令可以看到解压缩后的文件。通常在解压缩后产生的文件中，有名为”INSTALL”的文件。该文件为纯文本文件，详细讲述了该软件包的安装方法。<br>对于多数需要编译的软件，其安装的方法大体相同。执行解压缩后产生的一个名为configure的可执行脚本程序。它是用于检查系统是否有编译时所需的库，以及库的版本是否满足编译的需要等安装所需要的系统信息。为随后的编译工作做准备。命令为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#./configure</div></pre></td></tr></table></figure></p><p>如果检查过程中，发现有错误，configure将给予提示，并停止检查。你可以跟据提示对系统进行配置。再重新执行该程序。检查通过后，将生成用于编译的MakeFile文件。此时，可以开始进行编译了。编译的过程视软件的规模和计算机的性能的不同，所耗费的时间也不同。命令为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#make (make -j 4 这是以四线程来编译)</div></pre></td></tr></table></figure></p><p>成功编译后，键入如下的命令开始安装：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#make install (sudo make install)</div></pre></td></tr></table></figure></p><p>安装完毕，应清除编译过程中产生的临时文件和配置过程中产生的文件。键入如下命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#make clean</div><div class="line">#make distclean</div></pre></td></tr></table></figure></p><p>至此，软件的安装结束</p><p>###第二部分<br>1.首先，使用tar -xzvf来解开这个包，如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#tar -xzvf apache_1_3_6_tar.gz</div></pre></td></tr></table></figure></p><p>这样就会在当前目录中创建了一个新目录(目录名与.tat.gz包的文件名类似），用来存放解压了的内容。如本例中就是apache_1.3.6<br>2.进入这个目录，再用ls命令查看一下所包含的文件，如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#cd apache_1.3.6</div><div class="line">#ls</div></pre></td></tr></table></figure></p><p>你观察一下这个目录中包含了以下哪一个文件：configure、Makefile还是Imake。</p><ul><li><p>1.如果是configure文件,就执行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">#./configure</div><div class="line">#make</div><div class="line">#make install</div></pre></td></tr></table></figure></li><li><p>2.如果是Makefile文件,就执行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#make</div><div class="line">#make install</div></pre></td></tr></table></figure></li><li><p>3.如果是Imake文件,就执行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">#xmkmf</div><div class="line">#make</div><div class="line">#make install</div></pre></td></tr></table></figure></li></ul><p>make原理是执行一个叫(所生成的)Makefile文件里的指令，make的基本用处是自动根据makefile里的指令来编译源文件。它还可以用来做比如安装软件，卸载软件等事情，但前提是作者在makefile里写了。比如makefile里有这么些内容：<br>install : &lt; commands &gt;<br>然后用make install的话，make程序就会按照上面install：后面的指令&lt; commands &gt;执行安装，uninstall也是一样的道理，大部分的作者会写有卸载的部分，这时只要简单地执行make unistall就可以，如果作者懒没有写，那就只有根据make install中的步骤，看它把什么文件拷到哪去了，然后分别手动删除。<br>还有关键的一点是，编译安装完成后，不要删除源代码，不然就算作者写了unnistall目标，你也没有makefile可以执行了。<br>3.如果没有出现什么错误提示的话，就搞定了。至于软件安装到什么地方，通常会在安装时出现。否则就只能查阅一下README。</p><p>##第二种：.rpm<br> RPM是Red Hat公司随Redhat Linux推出了一个软件包管理器，通过它能够更加轻松容易地实现软件的安装。<br>将安装文件拷贝至你的目录中/usr/src。然后使用rpm来安装该文件。命令如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#rpm -ivh filename.i386.rpm</div></pre></td></tr></table></figure></p><p>rpm将自动将安装文件解包，并将软件安装到缺省的目录下。并将软件的安装信息注册到rpm的数据库中。</p><ul><li><p>1.安装软件：执行rpm -ivh rpm包名，如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#rpm -ivh apache-1.3.6.i386.rpm</div></pre></td></tr></table></figure></li><li><p>2.升级软件：执行rpm -Uvh rpm包名。</p></li><li>3.反安装：执行rpm -e rpm包名。</li><li>4.查询软件包的详细信息：执行rpm -qpi rpm包名</li><li>5.查询某个文件是属于那个rpm包的：执行rpm -qf rpm包名</li><li>6.查该软件包会向系统里面写入哪些文件：执行 rpm -qpl rpm包名<br>##终于可以开始RNA-seq分析啦！！</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;组装了服务器，又装上了系统，会使用编辑器，我马上就想开始RNA-seq的练习，但是在这之前，有一些事情需要完成。&lt;br&gt;首先要知道如何进入linux的终端，当我没说。&lt;/p&gt;
&lt;p&gt;##知道基本的linux命令&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ls,pwd,cd, cat,less,vim&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;pwd查看当前目录&lt;/li&gt;
&lt;li&gt;ls查看目录下的文件&lt;/li&gt;
&lt;li&gt;cd 切换目录，tab键可以自动补齐&lt;br&gt;详细的可以读一读生信菜鸟的帖子&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;amp;mid=2247483957&amp;amp;idx=1&amp;amp;sn=302a35c3ad63043fd6eb57e76c0ca1e1&amp;amp;chksm=9b48428eac3fcb98c8608abef97c5dd854026df414d2f54fb8b50f7efba3651d930dae2221b1&amp;amp;mpshare=1&amp;amp;scene=1&amp;amp;srcid=0205wFsQKdoRTniFUrV6qcFU#rd&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;教你如何轻松入门Linux&lt;/a&gt;，我把它放在了阅读原文里面。
    
    </summary>
    
      <category term="生物信息" scheme="http://guoshipeng.com/categories/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/"/>
    
    
      <category term="Linux" scheme="http://guoshipeng.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>编辑器之神VIM的使用及配置</title>
    <link href="http://guoshipeng.com/2017/10/17/07_vim/"/>
    <id>http://guoshipeng.com/2017/10/17/07_vim/</id>
    <published>2017-10-17T12:59:01.000Z</published>
    <updated>2017-10-18T11:00:34.597Z</updated>
    
    <content type="html"><![CDATA[<p>做生信要写代码，写代码就需要编辑器，在linux系统下有一款编辑器不能被忽略，就是VIM，江湖人称编辑器之神。当然，在一堆程序员里面千万不要讨论语言的好坏，也不能突然冒一句perl是世界上最好的脚本语言，不能，千万不能，要不然死的很难看。</p><p>所以讨论编辑器时也不能随便说哪个最好，人们常说vim是编辑器之神，继而又说他的对手emacs是神的编辑器。绕来绕去就是为了一个名分，所谓树争一身皮，编辑器争一口气。<br>VIM用好了以后的状态是这样子的：</p><blockquote><p>写过程序的人都知道，编程的时候双手大部分时间都放在键盘上，或编码、或插入、或移动、或定位、或查找，这种连续操作的时间和频率远远大于阅读、翻页、设置字体、摆弄样式等文案工作，而二者往往产生很多停顿和间隙，而编程时的停顿是非常影响编程效率的，所以 Vim 的设计理念就是通过模式的转换、命令的组合和不计其数的插件，保证程序员在编程的过程中，双手尽可能保留在键盘中央的区域，并且，<strong>不需要鼠标</strong>。<br><a id="more"></a></p></blockquote><p>大多人看不起VIM的原因可能有一个：VIM上手容易，但学习曲线陡峭，很多人没有学会就放弃了。这不是我说的，是池建强老师说的。VIM的故事和详细用法可以查看池建强老师写的VIM系列，最终他把这个系列写成了一篇长文，<a href="http://mp.weixin.qq.com/s?__biz=MjM5ODQ2MDIyMA==&amp;mid=2650712546&amp;idx=1&amp;sn=c4db99547b75d6001b3cfaa6cbc0e715&amp;scene=21#wechat_redirect" target="_blank" rel="external">说，谁才是最帅的编程工具？</a>十分精彩，我觉得可以去读一读。微信不能外部链接，我把他放在了阅读原文里面。<br>VIM内置在linux系统下，在命令行输入 vim 然后enter键，就可以看到vim<br>vim的上手很简单，他有四种模式</p><ul><li>普通模式：Vim 启动后的默认模式，用来移动光标、删除文本、覆盖输入文本、恢复操作、粘贴文本等等。</li><li>插入模式：输入 i 或 a 进入插入模式，在这个模式下敲击键盘会往文字缓冲区增加文字，相当于普通编辑器的编辑模式。</li><li>可视模式：选择文本，可以行选、块选和依次选择，选择后可以进行复制、删除、排序等操作。</li><li>命令模式：执行内部和外部命令，通过「: / ? !」可以进入命令模式，分别对应的是：执行内部命令、向上或向下搜索、执行外部命令。</li></ul><p>假设我们写个名字叫11的perl程序，直接在命令行输入vim 11.pl enter键就OK了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vim 11.pl</div></pre></td></tr></table></figure></p><p>接着我们按一下a或者i就进入插入模式，这时候在就可以通过键盘随便输入了，你打字的时候看一下左下方会有insert字样<br>假设我们现在已经写完程序，想要保存退出怎么办呢？<br>按esc键切换到命令行模式，同时按shift+：，就是shift键和冒号一起按，这时候左下角会出现冒号标志<br>输入wq就是保存退出<br>输入q！就是不保存直接退出<br>注意，如果操作不了，一定要确定正在使用的是英文输入法<br>这样就已经学完了</p><p>这时候要想到vim是效率神器，而且不需要鼠标就可以方便的复制粘贴，跳跃，所以接下来会有很多命令要学，我自己掌握的也不好，就不献丑了，至少我已经在用了，perl程序全是使用vim写的。</p><p>现在有个问题就是vim不好看，虽然不需要鼠标，全键盘操作，但我觉得界面太丑，没有电影里面那种花花绿绿代码齐发的感觉，现在我知道那个叫语法高亮，所以我又查了一下vim的配置。</p><blockquote><p><strong>很多时候长大了那些执念就是为了完成小时候未完成的心愿。</strong></p></blockquote><p>##VIM的配置<br>切换到家目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cd ~</div></pre></td></tr></table></figure></p><p>创建.vimrc文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vim .vimrc</div></pre></td></tr></table></figure></p><p>进入插入模式，复制下面代码，右击鼠标粘贴，不能是使用ctrl+V<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">filetype on</div><div class="line">syntax on</div><div class="line">set nu</div><div class="line">set cindent</div><div class="line">set ruler</div><div class="line">set tabstop=4</div><div class="line">set softtabstop=4</div><div class="line">set expandtab</div><div class="line">set shiftwidth=4</div><div class="line">set backspace=indent,eol,start</div><div class="line">set completeopt=preview,menu</div><div class="line">set cursorline</div><div class="line">set magic</div><div class="line">set autoindent</div><div class="line">set smartindent</div><div class="line">set showmatch</div><div class="line">set history=1000</div><div class="line">set nobackup</div><div class="line">set noswapfile</div><div class="line">set ignorecase</div><div class="line">set hlsearch</div><div class="line">set incsearch</div><div class="line">inoremap &apos; &apos;&apos;&lt;ESC&gt;i</div><div class="line">inoremap &quot; &quot;&quot;&lt;ESC&gt;i</div><div class="line">inoremap ( ()&lt;ESC&gt;i</div><div class="line">inoremap [ []&lt;ESC&gt;i</div><div class="line">inoremap &lt; &lt;&gt;&lt;ESC&gt;i</div><div class="line">inoremap &#123; &#123;&#125;&lt;ESC&gt;i</div><div class="line">set guifont=Bitstream_Vera_Sans_Mono:h10:cANSI</div></pre></td></tr></table></figure></p><p>好了现在使用编辑器就有那种花花绿绿的感觉了，这是我写的一个perl程序：<br><img src="http://oy0a9ohwa.bkt.clouddn.com/blog/171018/9AdKI49D5I.jpg" alt="mark"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;做生信要写代码，写代码就需要编辑器，在linux系统下有一款编辑器不能被忽略，就是VIM，江湖人称编辑器之神。当然，在一堆程序员里面千万不要讨论语言的好坏，也不能突然冒一句perl是世界上最好的脚本语言，不能，千万不能，要不然死的很难看。&lt;/p&gt;
&lt;p&gt;所以讨论编辑器时也不能随便说哪个最好，人们常说vim是编辑器之神，继而又说他的对手emacs是神的编辑器。绕来绕去就是为了一个名分，所谓树争一身皮，编辑器争一口气。&lt;br&gt;VIM用好了以后的状态是这样子的：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;写过程序的人都知道，编程的时候双手大部分时间都放在键盘上，或编码、或插入、或移动、或定位、或查找，这种连续操作的时间和频率远远大于阅读、翻页、设置字体、摆弄样式等文案工作，而二者往往产生很多停顿和间隙，而编程时的停顿是非常影响编程效率的，所以 Vim 的设计理念就是通过模式的转换、命令的组合和不计其数的插件，保证程序员在编程的过程中，双手尽可能保留在键盘中央的区域，并且，&lt;strong&gt;不需要鼠标&lt;/strong&gt;。&lt;br&gt;
    
    </summary>
    
      <category term="生物信息" scheme="http://guoshipeng.com/categories/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/"/>
    
    
      <category term="编辑器" scheme="http://guoshipeng.com/tags/%E7%BC%96%E8%BE%91%E5%99%A8/"/>
    
      <category term="VIM" scheme="http://guoshipeng.com/tags/VIM/"/>
    
  </entry>
  
  <entry>
    <title>硬盘上写的6Gb/s是什么意思</title>
    <link href="http://guoshipeng.com/2017/10/17/06-6GB/"/>
    <id>http://guoshipeng.com/2017/10/17/06-6GB/</id>
    <published>2017-10-17T12:57:07.000Z</published>
    <updated>2017-10-18T08:44:08.203Z</updated>
    
    <content type="html"><![CDATA[<p>上次我讲到如何在家里组装一个服务器，这时不可避免地会购买硬盘，如果追求大容量，就绕不过机械硬盘，实际上无论如何也绕不开机械硬盘，我在购买硬盘的时候 ，观察到硬盘上会写有这样的标志，6Gb/s。<br>实际上这个标志我看了很多遍，直到我配置服务器时才注意到。</p><blockquote><p>学习一项新的技能，看世界就多了一个维度，这种感觉就像刚背了单词，再去做题时总是会碰到，刚买了新车，发现满大街都是一样的车。但是呢，单词就在那里，没有变过，汽车就在街上，不增不减。改变的是我们的注意力，扩增的是知识结构，从此那些相关的点就会自动填充进来。</p></blockquote><p>我的使用经验告诉我，没有哪一个硬盘达到过这个速度，即使是我特别喜欢的固态硬盘也远远达不到这个要求，那么这个6Gb/s是啥意思呢？</p><p>我回家后查阅了一些资料，暂时的理解是这样子的：<br>SATA（Serial ATA）口的硬盘又叫串口硬盘，是未来PC机硬盘的趋势，现已基本取代了传统的PATA硬盘。SATA的优势：支持热插拔 ，传输速度快，执行效率高。</p><p>SATA分为SATA1.0和SATA2.0和SATA3.0，最大传输速度分别是150M/s和300M/s和600M/s<br><a id="more"></a><br><strong>SATA3.0又叫SATA 6GB/s接口</strong>，这个所谓接口速度6GB/s，6GB/s=1024M*6/s=6144M/s≈6000M/s，然而上文提过，SATA3.0最大传输速度600M/s，看起来是矛盾的，但是我们要注意，6Gb/s的b是小写，而GB，MB的B是大写，</p><blockquote><p><strong>这两个b的意思不一样！！！！！</strong><br>6Gb/s = 6 Giga-bits /second</p></blockquote><p>bit(s) = 比特位，缩写b<br>Byte(s) = 字节，缩写B</p><ul><li><p>比特位（bit）<br>来自英文bit，音译为“比特”，表示二进制位。位是计算机内部数据储存的最小单位，11010100是一个8位二进制数。一个二进制位只可以表示0和1两种状态（21）；两个二进制位可以表示00、01、10、11四种（22）状态；三位二进制数可表示八种状态（23）……。</p></li><li><p>字节（byte）<br>字节来自英文Byte，音译为“拜特”，习惯上用大写的“B”表示。<br>字节是计算机中数据处理的基本单位。计算机中以字节为单位存储和解释信息，<strong>规定一个字节由八个二进制位构成</strong>即1个字节等于8个比特（1Byte=8bit）。八位二进制数最小为00000000，最大为11111111；通常1个字节可以存入一个ASCII码，2个字节可以存放一个汉字国标码。 1Byte = 8bits</p></li></ul><blockquote><p>所以1Gb = 1/8 GB=128 MB</p></blockquote><p>也就是说<br><strong>6Gb/s = 6/8 GB/s = 0.75 GB/s = 750 MB/s</strong>，</p><p>1B=8b。但是硬盘是8/10传输。每10位里只有8个数据位，2个校验位。所以虽然传输了10b但是只有8b是数据。所以要打8折，<br>所以6Gb/s得最终得传输数据速度是750乘以0.8=600MB/s<br>而这个600是理论上的最大值，实际上在传输过程中还有约10%的损耗，所以最终，大概传输速度是600乘以0.9=540M/s,这还是固态硬盘的速度，所以世面上的固态硬盘大多说自己的最大速度是550M/s，真实速度大概是200M/s左右。</p><p>如果换成机械硬盘，SATA 6Gb/s的意思只是说这个硬盘支持的接口是SATA3，并不代表他的速度。机械硬盘真实的传输速度大概是40M左右。</p><p>所以，<strong>6Gb/s只是告诉我们这个硬盘是SATA3接口</strong>，不要想多了,不要想多了。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;上次我讲到如何在家里组装一个服务器，这时不可避免地会购买硬盘，如果追求大容量，就绕不过机械硬盘，实际上无论如何也绕不开机械硬盘，我在购买硬盘的时候 ，观察到硬盘上会写有这样的标志，6Gb/s。&lt;br&gt;实际上这个标志我看了很多遍，直到我配置服务器时才注意到。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;学习一项新的技能，看世界就多了一个维度，这种感觉就像刚背了单词，再去做题时总是会碰到，刚买了新车，发现满大街都是一样的车。但是呢，单词就在那里，没有变过，汽车就在街上，不增不减。改变的是我们的注意力，扩增的是知识结构，从此那些相关的点就会自动填充进来。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;我的使用经验告诉我，没有哪一个硬盘达到过这个速度，即使是我特别喜欢的固态硬盘也远远达不到这个要求，那么这个6Gb/s是啥意思呢？&lt;/p&gt;
&lt;p&gt;我回家后查阅了一些资料，暂时的理解是这样子的：&lt;br&gt;SATA（Serial ATA）口的硬盘又叫串口硬盘，是未来PC机硬盘的趋势，现已基本取代了传统的PATA硬盘。SATA的优势：支持热插拔 ，传输速度快，执行效率高。&lt;/p&gt;
&lt;p&gt;SATA分为SATA1.0和SATA2.0和SATA3.0，最大传输速度分别是150M/s和300M/s和600M/s&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>临床医生的服务器组装记录</title>
    <link href="http://guoshipeng.com/2017/10/17/05-server-self-made/"/>
    <id>http://guoshipeng.com/2017/10/17/05-server-self-made/</id>
    <published>2017-10-17T12:54:34.000Z</published>
    <updated>2017-10-18T08:46:42.393Z</updated>
    
    <content type="html"><![CDATA[<p>写于2017年1月7日<br>我在想为什么可以学会芯片分析，但总学不会RNA-seq？</p><blockquote><p><strong>答案：芯片分析只要是台电脑就可以上手，但是RNA-seq，没有一台像样的服务器，谈何容易。</strong></p></blockquote><p>于是我就准备从头组装一台服务器。</p><blockquote><p><strong>结果：组装成功并用了三天入门RNA-seq。</strong></p></blockquote><p>首先最恐怖的问题：</p><h1 id="电脑零基础能组装自己的服务器么？"><a href="#电脑零基础能组装自己的服务器么？" class="headerlink" title="电脑零基础能组装自己的服务器么？"></a>电脑零基础能组装自己的服务器么？</h1><p>我问了一下Jimmy，他说，刚好有个小伙伴自己组装了一台工作站，你可以参考下，我说，把配置清单给我：</p><ul><li>1.cpu 至强E5-2683-v3 1个</li><li>2.内存64g，DDR4-RECC</li><li>3.主板微星99A RAIDER</li><li>4.硬盘: 希捷2T机械硬盘，</li><li>5.三星960 EVO 256g固态硬盘<a id="more"></a></li></ul><p>最终我也联系到了那位小伙伴（广西医科大学），发现他把配件买齐后，已经配置好了，所以这个事情给了我很大信心。和优秀的人在一起，视野会开阔许多。<br>好吧，其实这时候不担心会不会组装，担心的是这样的配置，能不能带得动RNA-seq以及其他的生物信息分析。<br>我就问了一下暑假学习的老师（陈连福老师），他说你这个够用，但是作为专业的生信工作人员，你得上四路，4个CPU，内存要大（256g起步），硬盘要大（4T起步），机器要专业，价格要公道。我说，说那么多，没用，我预算就这么点钱，您比着给个建议吧<br>他说，我觉得我自己组装的这个DL580G7服务器就挺好，4个CPU，40核80线程，256g内存，所有耗材都是在某宝上攒的，共花费16000。后面问了下业内人士，<strong>这么点钱搞下来的都是高手</strong>。<br>我就说，你给我配置清单呗：</p><ul><li>E7-4870   4个</li><li>内存 8g乘以32条=256g</li><li>DL580G7  主板 带笼子（来自退伍专业服务器）</li><li>硬盘  2T乘以4</li><li>电源   4个</li><li>内存扩展板 4个</li><li>风扇<br>我拿着清单去某宝查了一下，确实搞不下来，更主要的原因就是我对这个东西一点都不懂。<strong>专业的事情交给专业的人来做</strong>，我就问他，能不能付费给你，你帮我搞一个一样一样的，他说可以，但是组装服务器有风险，cpu点亮是个难题，来回调货很耗时间，组装好了调试也花时间，但是我的可以直接卖给你，但是要加收服务费，<br><strong>我说好，接受！</strong><br>但是最后因为时间的问题以及我要把他放在家里（专业的放在家里不合适），我决定自己组装，这也是学习的过程。就参照一开始广西医科大学那位朋友单个CPU的配置。<br>首先我有了4路这个概念，所以我折中选择双路，我自己觉得<strong>更新获取新的概念很重要</strong>，很多时候我们懵逼多半是因为脑子里面完全没有这个概念而已，比如在组装的过程中我又知道了RAID模式，磁盘阵列卡等概念。<blockquote><p>李笑来说过，人与人之间的差异就是正确的概念量的大小。<br>既然选择了双路，我也懒得换CPU，就用那个E5-2683-V3，买两个就行。</p></blockquote></li><li>CPU：Intel/Xeon E5-2683-V3 正式版CPU 原装散片 14核心28线程（2个）</li></ul><p>可是这时候问题来了，<strong>双路是需要主板支持的</strong>，所以我又看了一下双路的主板，这时候我的脑子里面已经有了兼容这个概念，所以我就检索能够支持E5-2683-V3的双路主板，最终找到了这个</p><ul><li>主板：全新超微X10DAI LGA2011-3 C612 双路E5-2600V3V4 图形工作站主板<br>这个主板支持16根内存插槽，方便以后升级。<br>然后我又注意到这个主板写了支持的机箱，我才知道，原来主板换了，也要换机箱，我看到这家店里也卖机箱，专业的服务器机箱，我说就在你家买，<strong>你把主板和机箱配好了再给我寄过来吧</strong>，最后在店家的提醒下，又买了两个cpu的风扇。</li><li>机箱：超微SC745TQ-920B 图形工作站塔式机箱 920W电源 8*SATA热插拔</li><li>CPU风扇：DIY组装网烁WASO 3U2011 五热管 四线侧吹静音工作站散热器 两个<br>现在最重要的就是内存，问了一下群里的朋友，人家直接回复说，DDR4，RECC，2333频率，其实我也不懂这些是什么东西，我也不关心参数什么的。<strong>专业的事情让专业的人来做</strong>，我听就行了。随即跟电脑城的朋友联系，买了4根三星的内存</li><li>内存：三星专业服务器内存 DDR4 RECC 16g 4个<br>其实到了这一步，<strong>一个服务器的框架基本就形成了</strong>，除了硬盘啥都可以不要。<br>但是我同时考虑到一个问题，万一，我是说万一，将来不做生物信息学分析，这个机器怎么办呢？我想我能不能给他配点东西让他能够输入，输出，当一台强大的家用电脑用呢？<br>所以我又买了一块显示屏：</li><li>显示屏：三星C27F591FD 27英寸新品曲面1800R曲率液晶<br>又买了一个键盘，</li><li>机械键盘：海盗船K65红轴<br>买了个鼠标</li><li>鼠标：Logitech/罗技MX MASTER无线大师鼠标 蓝牙优联双模式鼠标<br>我想用另一块硬盘装windows系统和黑苹果系统，而且我之前也体会到了固态硬盘的威力</li><li>固态硬盘：Intel SSD 256g 1个<br>后来又了解到我的主板没有集成显卡，我想到后面要处理图片，所以又整了个入门级别的专业图形卡</li><li>显卡：丽台Quadro K620专业设计图形工作站绘图2G显卡<br>这个图形卡支持双接口，DP接口和HDMI接口，考虑到我的笔记本电脑是HDMI接口，所以又购置了一根DP线用于连接服务器</li><li>绿联发烧款 dp线4K高清DP1.2连接线公对公Dell hp displayport线<br>考虑到实验室网速太慢，准备把机子放在家里面，但是只能用WiFi，所以又买了个无线网卡，考虑到后面要安装黑苹果系统，所以选的是不需要安装驱动的网卡</li><li>无线网卡：Fenvi无线网卡台式机pci-e AR9280双频5G 300M+300Mac免驱<br>这时候我扛着在网上买来的的东西去电脑城找人安装，我想自己查一查网络也可能学会，但是我不喜欢这样做，这需要学习成本，而且<strong>专业的事情要交给专业的人来做</strong>，对我来说，最需要的是，生信练习，我巴不得有人能够直接把服务器放到我家里，我打开电脑就能用，这时候我根本不想体验动手的乐趣。<br>电脑城的朋友恰巧收购了一台惠普二手的服务器，就把上面的光驱和硬盘卸载下来卖给了我。</li><li>硬盘: 惠普2T 7200转 两块</li><li>光驱: 惠普原装<br>讲到硬盘这里还有个小插曲，为还专门写了一段:<br>…<br>我在购买硬盘的时候 ，观察到硬盘上会写有这样的标志，6Gb/s。<br>实际上这个标志我看了很多遍，直到我配置服务器时才注意到。<blockquote><p>学习一项新的技能，看世界就多了一个维度，这种感觉就像刚背了单词，再去做题时总是会碰到，刚买了新车，发现满大街都是一样的车。但是呢，单词就在那里，没有变过，汽车就在街上，不增不减。改变的是我们的注意力，扩增的是知识结构，从此那些相关的点就会自动填充进来。</p></blockquote></li></ul><p>我的使用经验告诉我，没有哪一个硬盘达到过这个速度，即使是我特别喜欢的固态硬盘也远远达不到这个要求，那么这个6Gb/s是啥意思呢？<br>我回家后查阅了一些资料，暂时的理解是这样子的：<br>SATA（Serial ATA）口的硬盘又叫串口硬盘，是未来PC机硬盘的趋势，现已基本取代了传统的PATA硬盘。SATA的优势：支持热插拔 ，传输速度快，执行效率高。<br>SATA分为SATA1.0和SATA2.0和SATA3.0，最大传输速度分别是150M/s和300M/s和600M/s<br><strong>SATA3.0又叫SATA 6GB/s接口</strong>，这个所谓接口速度6GB/s，6GB/s=1024M*6/s=6144M/s≈6000M/s，然而上文提过，SATA3.0最大传输速度600M/s，看起来是矛盾的，但是我们要注意，6Gb/s的b是小写，而GB，MB的B是大写，</p><blockquote><p><strong>这两个b的意思不一样！！！！！</strong><br>6Gb/s = 6 Giga-bits /second</p></blockquote><p>bit(s) = 比特位，缩写b<br>Byte(s) = 字节，缩写B</p><ul><li>比特位（bit）<br>来自英文bit，音译为“比特”，表示二进制位。位是计算机内部数据储存的最小单位，11010100是一个8位二进制数。一个二进制位只可以表示0和1两种状态（21）；两个二进制位可以表示00、01、10、11四种（22）状态；三位二进制数可表示八种状态（23）……。</li><li>字节（byte）<br>字节来自英文Byte，音译为“拜特”，习惯上用大写的“B”表示。<br>字节是计算机中数据处理的基本单位。计算机中以字节为单位存储和解释信息，<strong>规定一个字节由八个二进制位构成</strong>即1个字节等于8个比特（1Byte=8bit）。八位二进制数最小为00000000，最大为11111111；通常1个字节可以存入一个ASCII码，2个字节可以存放一个汉字国标码。 1Byte = 8bits<blockquote><p>所以1Gb = 1/8 GB=128 MB<br>也就是说<br><strong>6Gb/s = 6/8 GB/s = 0.75 GB/s = 750 MB/s</strong>，<br>1B=8b。但是硬盘是8/10传输。每10位里只有8个数据位，2个校验位。所以虽然传输了10b但是只有8b是数据。所以要打8折，<br>所以6Gb/s得最终得传输数据速度是750乘以0.8=600MB/s<br>而这个600是理论上的最大值，实际上在传输过程中还有约10%的损耗，所以最终，大概传输速度是600乘以0.9=540M/s,这还是固态硬盘的速度，所以世面上的固态硬盘大多说自己的最大速度是550M/s，真实速度大概是200M/s左右。<br>如果换成机械硬盘，SATA 6Gb/s的意思只是说这个硬盘支持的接口是SATA3，并不代表他的速度。机械硬盘真实的传输速度大概是40M左右。<br>所以，<strong>6Gb/s只是告诉我们这个硬盘是SATA3接口</strong>，不要想多了,不要想多了。<br>好的插曲结束<br>…<br>最终顺利地成功点亮CPU，在固态硬盘装上win10系统，我扛着这个80斤重的东西就回家了，就这样，<strong>对电脑一无所知的我配置了一台属于自己的服务器</strong>。回家装上CentOS系统，捣鼓了一通，现在，我已经入门RNA-seq了。<br>百无一用是书生，人们常说，科研人员做那么多实验，在工作生活中有什么用呢？上了临床还需要那些RACE实验，pulldown实验干什么！实际上当我写完帖子后才发现，这次组装服务器的过程就<strong>跟我平常学习一个新实验的过程是一样的</strong>：</p></blockquote></li><li>找到会做这个实验并且有成功经历的人并索取protocol（最初的配置清单）</li><li>通过店家的帮助更新概念修改protocol（主板和机箱卖家普及知识）</li><li>买齐耗材，开始实验，最好能请到会做的人演示一遍（电脑城的朋友组装）<br>这么一想，心里踏实多了。<br>好了现在你已经至少知道单路，双路，四路服务器的基本配置，已经可以开始上路了<br>对于单路服务器，点击阅读全文，我们技能树论坛已经有小伙伴分享了详细的组装配置以及单价<br>如果你觉得这样还嫌麻烦，那就对了<br>在某宝上输入“图像工作站”或者“黑苹果”这样的词，已经有大量的团队帮你组装好，剁手下单，手起刀落，整个世界都沸腾了。</li></ul><p>最后我还要温馨提示几件事情：<br>1.最终我的服务器放在了实验室，为啥呢，双路服务器噪声太大，如果想要兼顾家用，考虑一下单路外加水冷静音。<br>2.我最终并没有装黑苹果系统，为啥呢，双路难度太大，别人都不敢接单。<br>3.不要过分考虑参数，你要是听过群主讲他们的服务器上了百万，你就知道我们这个不值一提，对我们而言，尽快地开始比什么都重要<br>4.我使用的RNA-seq练习代码由下面的帖子提供。<br>5.如果你是单位购买服务器，千万不要自己组装，直接买品牌套装，维修方便。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;写于2017年1月7日&lt;br&gt;我在想为什么可以学会芯片分析，但总学不会RNA-seq？&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;答案：芯片分析只要是台电脑就可以上手，但是RNA-seq，没有一台像样的服务器，谈何容易。&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;于是我就准备从头组装一台服务器。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;结果：组装成功并用了三天入门RNA-seq。&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;首先最恐怖的问题：&lt;/p&gt;
&lt;h1 id=&quot;电脑零基础能组装自己的服务器么？&quot;&gt;&lt;a href=&quot;#电脑零基础能组装自己的服务器么？&quot; class=&quot;headerlink&quot; title=&quot;电脑零基础能组装自己的服务器么？&quot;&gt;&lt;/a&gt;电脑零基础能组装自己的服务器么？&lt;/h1&gt;&lt;p&gt;我问了一下Jimmy，他说，刚好有个小伙伴自己组装了一台工作站，你可以参考下，我说，把配置清单给我：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1.cpu 至强E5-2683-v3 1个&lt;/li&gt;
&lt;li&gt;2.内存64g，DDR4-RECC&lt;/li&gt;
&lt;li&gt;3.主板微星99A RAIDER&lt;/li&gt;
&lt;li&gt;4.硬盘: 希捷2T机械硬盘，&lt;/li&gt;
&lt;li&gt;5.三星960 EVO 256g固态硬盘
    
    </summary>
    
      <category term="生物信息" scheme="http://guoshipeng.com/categories/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/"/>
    
    
      <category term="服务器" scheme="http://guoshipeng.com/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>TCGA数据库大集合</title>
    <link href="http://guoshipeng.com/2017/10/17/04-TCGA/"/>
    <id>http://guoshipeng.com/2017/10/17/04-TCGA/</id>
    <published>2017-10-17T12:51:45.000Z</published>
    <updated>2017-10-18T09:27:19.124Z</updated>
    
    <content type="html"><![CDATA[<p>虽然我现在有了自己的服务器，但是我觉得：</p><blockquote><p>临床医生所理解的生信分析仅仅是数据库的使用，即使是数据库，大部分孩子也是知之甚少。</p></blockquote><p>我把看过的帖子做一个合集，方便自己查阅<br>看一个万事屋2015年6月25日对cBioPortal的介绍，那时你在干嘛呢？<br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=210171053&amp;idx=1&amp;sn=0330f3d3293e1f37b3dc6ca2ebac1b04&amp;scene=1#rd" target="_blank" rel="external">挖坟神器：TCGA的影分身</a><br>再看看郭大侠一天之内如何挖掘4个TCGA数据库的<br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652324823&amp;idx=1&amp;sn=89ae5f86abaf3cfa805daf28afa1f551&amp;scene=21#wechat_redirect" target="_blank" rel="external">基于TCGA蛋白芯片数据的分析神器</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652324947&amp;idx=1&amp;sn=17716f28c55b32f6909b68ab76351502&amp;scene=1&amp;srcid=0728EX6fdeQ8jI6woS7LqP0S#rd" target="_blank" rel="external">如何从茫茫文献中挖掘出神器</a><br>那一天我找到了基于TCGA的长链非编码神器Tanric，但是我并没有写贴<br>这是之后出现的Tanric帖子<br><a href="https://mp.weixin.qq.com/s?__biz=MjM5MzMwNzk5Mg==&amp;mid=2650126228&amp;idx=1&amp;sn=c52444c34fce9c7926c099f991fa406b&amp;mpshare=1&amp;scene=1&amp;srcid=10013e0KZ1FPTKULmGUk8aiX#rd" target="_blank" rel="external">lncRNA功能研究神器：TANRIC数据库</a><br><a href="https://mp.weixin.qq.com/s?__biz=MjM5MTk5Njc0MQ==&amp;mid=2649960542&amp;idx=1&amp;sn=9a012aef641e7630f520219628f3739b&amp;scene=1&amp;srcid=0902vf05uEg2k9yakXl3zW5z#rd" target="_blank" rel="external">lncRNA研究利器之”TANRIC”：一个探索癌症中lncRNA功能的交互式开放平台</a><br><a id="more"></a><br>对于TCGA数据，生存分析是刚需，在Twitter上无意间发现了OncoLnc，<br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652326043&amp;idx=1&amp;sn=c70bb1f7a29d189b11d9bef983b2be5a&amp;chksm=84a3149bb3d49d8d263ac34e78370a2df766336e4a556aa58abcd1b452552c99ccfc00125016&amp;mpshare=1&amp;scene=1&amp;srcid=11180ENbgTpvME9nnerVtljJ#rd" target="_blank" rel="external">生存曲线这种东西，还是用别人的好</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzAwMzY4MTYxNw==&amp;mid=2655754231&amp;idx=1&amp;sn=cdb3d61907b175634daaf7bd48befdc7&amp;chksm=80884bc9b7ffc2df92fcbe4be77f1c7f67599dd0e00e823fdbc306edba584320db4d464571e0&amp;mpshare=1&amp;scene=1&amp;srcid=1115x5jvqpQ38WLWcqjzoeHc#rd" target="_blank" rel="external">懒人怎么做肿瘤病人的生存分析？</a><br>而如果你关注生信技能树这个公众号，你会发现还有一个神帖<br><a href="https://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247484438&amp;idx=1&amp;sn=677f29555d6073d2ce616436bf5a9456&amp;chksm=9b4844adac3fcdbb422973d6724b2c9899f6bcc0b6f49da47730e029e5fe6b3a6e085e294894&amp;mpshare=1&amp;scene=1&amp;srcid=0530H7f0pteEVWNdmD9FKeom#rd" target="_blank" rel="external">都可以批量做生存分析了，还要网页工具干嘛？</a><br>说了这么多加入你还没有分子，可以尝试一下这里的方法：<br><a href="https://mp.weixin.qq.com/s?__biz=MzAwMzY4MTYxNw==&amp;mid=2655752073&amp;idx=1&amp;sn=764d33af97623f4ab7794c4b5e366721&amp;scene=1&amp;srcid=0726rRhc5bZ9yIxeLh49CP3u#rd" target="_blank" rel="external">如何在不懂生信的前提下挖掘别人的数据？</a><br><a href=""></a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652324801&amp;idx=1&amp;sn=2f3c164e32081d3bd518d7e8b6887085&amp;scene=1&amp;srcid=0718rC1g9RaLTh2qgxYjAotO#rd" target="_blank" rel="external">好烦！又要给你们推荐神器了……</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652326031&amp;idx=1&amp;sn=6433a9dade16a31d613dbd445e85fc07&amp;chksm=84a3148fb3d49d99b5114108a93d153967690cce3dde9b0120bacbbf4a496434e54708c821c2&amp;mpshare=1&amp;scene=1&amp;srcid=1117muynfbYtfNcIXcHllz3x#rd" target="_blank" rel="external">我就是用这神器随便挖一个TCGA</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzIyMzA2MTcwMg==&amp;mid=403198108&amp;idx=1&amp;sn=1a6b9cdfb2ab88ee7be4e45acc91aa43&amp;mpshare=1&amp;scene=1&amp;srcid=0616rpxS4dn7cW5iFLdxfbr7#rd" target="_blank" rel="external">福利就在今日-oncomine的用法</a><br>oncomine是我的启蒙老师，需要教育邮箱，我想大部分孩子都没有想过去申请一个，而我可能是全校少数的申请者，当时管理员都忘了如何开通，眼神特别惊讶，而我的启蒙帖子是这样的<br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=203379668&amp;idx=1&amp;sn=4c79cd6aaec46c00a5cd71ff2a44f9cc&amp;scene=21#wechat_redirect" target="_blank" rel="external">还愁什么？前期工作就这么设计！</a><br>假如你不会系统地挖掘数据可以看看这个：<br>这是一个学生学习后的成果：<br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652324927&amp;idx=1&amp;sn=26ba2981d1f058f428423642992089df&amp;scene=1&amp;srcid=0726sYr7Lpk3MvtXXJyNFb7F#rd" target="_blank" rel="external">盗墓笔记——如何用万事屋给的神器，不做实验挖掘乳腺癌相关标记基因？</a><br>下面这个帖子意义重大，是郭猛老师的GEO课程，我认为这个可能是全网第一个大规模公开的GEO视频，是我R语言的入门老师，当时我赞赏了50块，之后又系统的学习了生信技能树群主的课程，特别好。<br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=211050201&amp;idx=1&amp;sn=81d4209b2fda96704892fd814ae68558&amp;scene=1#rd" target="_blank" rel="external">GEO芯片数据下载与分析技巧（视频版）</a><br>可能R语言有点不适应，你可以尝试用去年我给出的方案：<br><a href="https://mp.weixin.qq.com/s?__biz=MzIyMzA2MTcwMg==&amp;mid=2650732488&amp;idx=1&amp;sn=98d0bd601bb68acd77d4efd7dc8fa483&amp;chksm=f029a461c75e2d772b0f68c647e367c25e9bd88b2b20c2b0efa0d5ea3eeab750a7fc9df0a499&amp;mpshare=1&amp;scene=1&amp;srcid=0616nFPEpReQpvVBRZJmVBXb#rd" target="_blank" rel="external">代码芯片分析图文教程：每个人都可以做一做的生信第1题</a><br>如果你研究甲基化，看看这个两个<br><a href="https://mp.weixin.qq.com/s?__biz=MzAwMzY4MTYxNw==&amp;mid=2655752115&amp;idx=1&amp;sn=0093e0c8c38f3732cafdf17e9102ff4c&amp;scene=1&amp;srcid=0728EqhJFrG5Rp4vn5BXPgeq#rd" target="_blank" rel="external">基因甲基化和表达如何实现一站式查询？</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652323746&amp;idx=1&amp;sn=71451eb7b0593cd2723a5885eeb6ec3d&amp;scene=1&amp;srcid=0426pQLNIVDyWiifoyuKahon#rd" target="_blank" rel="external">这是一款有毒的神器网址http://mexpress.be/</a><br>如果你对上面的都不感兴趣，试一下这个，这是我认为目前最好的TCGA可视化数据库，而我是全网第一个写帖子推荐的<br><a href="https://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247484284&amp;idx=1&amp;sn=e779feb8db58486017896fd44194869d&amp;chksm=9b4843c7ac3fcad10dcd77647dbdd76b7fb1b82071236f4afa5760a0f458b066977ac7068c3f&amp;mpshare=1&amp;scene=1&amp;srcid=0406t0D1MxAVPxNahR9MsGrj#rd" target="_blank" rel="external">中国制造:碉堡的TCGA可视化网站GEPIA</a><br>在这之前，我觉得看一下这个帖子是有益于身心健康的：<br><a href="https://mp.weixin.qq.com/s?__biz=MzIyMzA2MTcwMg==&amp;mid=2650732330&amp;idx=1&amp;sn=35751c91d8cbd62cf988679701f9da8e&amp;chksm=f029a483c75e2d951591f06cfb923f8d92a5c30e2bb2e962f01a582aa159ad0a60520a208d9e&amp;mpshare=1&amp;scene=1&amp;srcid=1201aeqQJfsBSaN71KyB8Dh9#rd" target="_blank" rel="external">课题设计：收不完的病人查不完的房，临床医生如何快速地设计一个靠谱的课题？</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;虽然我现在有了自己的服务器，但是我觉得：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;临床医生所理解的生信分析仅仅是数据库的使用，即使是数据库，大部分孩子也是知之甚少。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;我把看过的帖子做一个合集，方便自己查阅&lt;br&gt;看一个万事屋2015年6月25日对cBioPortal的介绍，那时你在干嘛呢？&lt;br&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;amp;mid=210171053&amp;amp;idx=1&amp;amp;sn=0330f3d3293e1f37b3dc6ca2ebac1b04&amp;amp;scene=1#rd&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;挖坟神器：TCGA的影分身&lt;/a&gt;&lt;br&gt;再看看郭大侠一天之内如何挖掘4个TCGA数据库的&lt;br&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;amp;mid=2652324823&amp;amp;idx=1&amp;amp;sn=89ae5f86abaf3cfa805daf28afa1f551&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;基于TCGA蛋白芯片数据的分析神器&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;amp;mid=2652324947&amp;amp;idx=1&amp;amp;sn=17716f28c55b32f6909b68ab76351502&amp;amp;scene=1&amp;amp;srcid=0728EX6fdeQ8jI6woS7LqP0S#rd&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;如何从茫茫文献中挖掘出神器&lt;/a&gt;&lt;br&gt;那一天我找到了基于TCGA的长链非编码神器Tanric，但是我并没有写贴&lt;br&gt;这是之后出现的Tanric帖子&lt;br&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MjM5MzMwNzk5Mg==&amp;amp;mid=2650126228&amp;amp;idx=1&amp;amp;sn=c52444c34fce9c7926c099f991fa406b&amp;amp;mpshare=1&amp;amp;scene=1&amp;amp;srcid=10013e0KZ1FPTKULmGUk8aiX#rd&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;lncRNA功能研究神器：TANRIC数据库&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MjM5MTk5Njc0MQ==&amp;amp;mid=2649960542&amp;amp;idx=1&amp;amp;sn=9a012aef641e7630f520219628f3739b&amp;amp;scene=1&amp;amp;srcid=0902vf05uEg2k9yakXl3zW5z#rd&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;lncRNA研究利器之”TANRIC”：一个探索癌症中lncRNA功能的交互式开放平台&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="生物信息" scheme="http://guoshipeng.com/categories/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/"/>
    
    
      <category term="TCGA" scheme="http://guoshipeng.com/tags/TCGA/"/>
    
      <category term="数据库" scheme="http://guoshipeng.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>那些我学过的科研数据库</title>
    <link href="http://guoshipeng.com/2017/10/17/03-database-learning/"/>
    <id>http://guoshipeng.com/2017/10/17/03-database-learning/</id>
    <published>2017-10-17T12:49:59.000Z</published>
    <updated>2017-10-18T08:41:36.079Z</updated>
    
    <content type="html"><![CDATA[<p>这里面大部分数据库我都使用过，但是遗憾的是，当年我并没有记录使用的感受，以及各个帖子对于新手的友好程度，甚至在使用<br>某些数据库时，干脆自己把使用文档看了一遍，不过，没关系，你只要知道，想到达到什么目的该用什么数据库就可以了。</p><h2 id="芯片分析："><a href="#芯片分析：" class="headerlink" title="芯片分析："></a>芯片分析：</h2><hr><p>其实这边跟TCGA帖子有点重合，说到底，数据挖掘有两个作用</p><ul><li>没有课题的时候产生课题</li><li>没有机制的时候提供思路<br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=402213634&amp;idx=1&amp;sn=9e0eb84df526c37673a076318539a44c&amp;scene=1&amp;srcid=1210bJRx7dy3KPYOR54UgzU4#rd" target="_blank" rel="external">如何挖别人的数据，写自己的标书</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=402272245&amp;idx=1&amp;sn=aee38cdb53db33f9651b5329a053bd30&amp;scene=1&amp;srcid=1211B2xo6WqyRGvcg89b68zG#rd" target="_blank" rel="external">如何挖别人的数据，写自己的标书 II</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=402495911&amp;idx=1&amp;sn=08bb48ea19ba1e39818f576eac22c4f0&amp;scene=1&amp;srcid=1216oMAs0qXMVTfnPCk6q8iV#rd" target="_blank" rel="external">如何挖别人的数据，写自己的标书 3</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzAwMzY4MTYxNw==&amp;mid=2655756603&amp;idx=1&amp;sn=1c1bf8617ab6418c18dad767649ac7d2&amp;chksm=80887d05b7fff4134f7b7a9923208861a5eaee62794511cc7298f6dbc77ca69c06dbef47f285&amp;mpshare=1&amp;scene=1&amp;srcid=0405b0PtNB2lNy5gwdW3qOPh#rd" target="_blank" rel="external">表达谱数据挖掘神器，一个就够！（上）</a><a id="more"></a><h2 id="单基因信息汇总数据库："><a href="#单基因信息汇总数据库：" class="headerlink" title="单基因信息汇总数据库："></a>单基因信息汇总数据库：</h2></li></ul><hr><p>通过TCGA帖子和前面的帖子，你已经有足够多的课题可以来做，但是如何筛选特定的基因，并确定自己的研究方向，你得看看下面的帖子<br><a href="https://mp.weixin.qq.com/s?__biz=MzAxMjQ3MTU5Mg==&amp;mid=2650654078&amp;idx=1&amp;sn=078287e54942227ad7c347ef07b49433&amp;mpshare=1&amp;scene=1&amp;srcid=1126Xa6i3XZxx3pOeuv7Y5kN#rd" target="_blank" rel="external">研究单个基因的生物信息学分析工具</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzIwOTA0OTg2Mg==&amp;mid=400649494&amp;idx=1&amp;sn=1fcd99228f2e23c199b18d86fba6d569&amp;scene=1&amp;srcid=0924Mf5X6MrezJVCSWej4FOn#rd" target="_blank" rel="external">还在为找不到基因序列而烦恼么？</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzIyMzA2MTcwMg==&amp;mid=401406576&amp;idx=1&amp;sn=7de01446dc0a263c42eecac668cbc4e7&amp;scene=1&amp;srcid=0119TCdRUyrlTzcmK4Uehtvg#rd" target="_blank" rel="external">如何检索基因的DNA,mRNA,protein序列</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652326720&amp;idx=1&amp;sn=a38fbe9ecab5b82f7fa4dc478f6f2d5f&amp;chksm=84a31740b3d49e56e2f078a5ebe8d9c969df88c65645baf01e3227a24ec7042506cf9a619ecd&amp;mpshare=1&amp;scene=1&amp;srcid=0208BMFE7DrF5hZZVh4qoSNT#rd" target="_blank" rel="external">文献中基因挖掘的一个简单神器</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652326214&amp;idx=1&amp;sn=10efb09e10f8e720435138d95cf3a57f&amp;chksm=84a31546b3d49c502810b34db0ba19fe63b02e6d5f648c0f434def4846fc44edb74b7eb6a663&amp;mpshare=1&amp;scene=1&amp;srcid=1208EEQZiiQREzw5KhyjiXPo#rd" target="_blank" rel="external">为啥要学习这些讨厌的蛋白互作分析工具？</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652324560&amp;idx=1&amp;sn=f8f12190128f287bc73f58b77bf53dbd&amp;scene=1&amp;srcid=0626v0dcCWUagoe62ut7PNm2#rd" target="_blank" rel="external">如何正确地寻找能扯上关系的明星分子</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=402635996&amp;idx=1&amp;sn=0ced4f80f7eb8cb5bf4cb422095eb1f3&amp;scene=1&amp;srcid=1222G7Ks6AZdFZxwrfhvdAZm#rd" target="_blank" rel="external">告诉你文献聚类分析的神器 1</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=402795552&amp;idx=1&amp;sn=93256be5b39988df326747668b7b9237&amp;scene=1&amp;srcid=1222LPxjToGkeowpKw5NacYh#rd" target="_blank" rel="external">告诉你文献聚类分析的神器2</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=400420555&amp;idx=1&amp;sn=c31204526cb05d061e6c95f2b63e199c#wechat_redirect" target="_blank" rel="external">新神器get√，用这个来搜PubMed</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=401293309&amp;idx=1&amp;sn=f9de276c75adb016db469b7df3d1847d&amp;scene=1&amp;srcid=1120eLlOIW4AbqlciBay6hMS#rd" target="_blank" rel="external">更深层次的文献分析神器Get√！</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=401035807&amp;idx=1&amp;sn=1d8106f874b780ff7c522d18224e2d9e&amp;scene=1&amp;srcid=1111OZ7DpYf7NVP7U6bUvOJp#rd" target="_blank" rel="external">偷懒的同学看好了，了解基因的捷径——gene card</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzAwMzY4MTYxNw==&amp;mid=2655757919&amp;idx=1&amp;sn=b19c4f761383749d505ef2d5ed5f50ca&amp;chksm=80887a61b7fff37714ac00af92c6210d740a4908f409bfb399a7cdb9015243669f5c087cc8d8&amp;mpshare=1&amp;scene=1&amp;srcid=0701B63iG83HyEqL1BFkltrd#rd" target="_blank" rel="external">如何查询和展示一个基因在组织和细胞株里面的表达？</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652326787&amp;idx=1&amp;sn=9f8144b6b4e1a72907d3a3a5ba634c70&amp;chksm=84a31783b3d49e9525a882195254cd7603e4370a8912e6c8a3fbdcc74b52a2af2c6d7f6244f3&amp;mpshare=1&amp;scene=1&amp;srcid=0213vgmtipni1OTU4q9639H3#rd" target="_blank" rel="external">人家五分文章是用这个神器来验证免疫组化的</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzAwMzY4MTYxNw==&amp;mid=2655756767&amp;idx=1&amp;sn=6baed86908c54e63f9f728d31f41ef96&amp;chksm=80887de1b7fff4f72064189081369b1e7d478a2f2a85e0891f75b74dee29dff592f6e2ea7ec4&amp;mpshare=1&amp;scene=1&amp;srcid=0414zeuZEyNPchRPcEMQmCFu#rd" target="_blank" rel="external">介绍一个来自全球最壕高校的数据库……</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzAwMzY4MTYxNw==&amp;mid=2655752792&amp;idx=1&amp;sn=fc3fcd9c0727920b596ffcb11a426ef3&amp;scene=1&amp;srcid=0905F18OOcu3mMO4eGayRN6Q#rd" target="_blank" rel="external">（工具篇）S5E55：肿瘤耐药研究神器之——GDSC</a></p><h2 id="转录调控相关："><a href="#转录调控相关：" class="headerlink" title="转录调控相关："></a>转录调控相关：</h2><hr><p>我的导师告诉我，在90年代，包括现在，CELL杂志每期有一般的文章都是转录调控相关的，所以至今我们还保留在强悍得转录调控研究传统<br>这里面包括如何找启动子，预测结合位点，转录调控的三驾马车你也应该知道：Luciferase，EMSA，ChIP，但是这些实验相关的知识不是本次的重点，再次挖坑。<br>先看看我写过的帖子<br><a href="https://mp.weixin.qq.com/s?__biz=MzIyMzA2MTcwMg==&amp;mid=401406576&amp;idx=2&amp;sn=d750ade1127ff365616c7e6f73c6a0dc&amp;scene=1&amp;srcid=0119SjCezCP6be7XbDTusEA9#rd" target="_blank" rel="external">找出基因的启动子并分析其结合位点</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=401620042&amp;idx=1&amp;sn=57ebe2c0410554847616ba9eb0b59e0d&amp;scene=1&amp;srcid=1127ev2HvPnDR5BUt91F4Enu#rd" target="_blank" rel="external">来，再教你搜个启动子吧……</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzAxMjQ3MTU5Mg==&amp;mid=400572228&amp;idx=1&amp;sn=802798b211ab7a0dcfe667d7bce20a25&amp;scene=1&amp;srcid=0818dZ0zsu28w0BwoDX1ATV5#rd" target="_blank" rel="external">转录因子和靶基因系列（一）转录因子调控哪些下游基因，有实验证据的线索</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzAxMjQ3MTU5Mg==&amp;mid=400899182&amp;idx=1&amp;sn=13c26066500861fbbb290c012a7b80ae&amp;scene=1&amp;srcid=0818dK10vDpi6IJRXDG4SJSg#rd" target="_blank" rel="external">转录因子和靶基因系列（二）按类检索转录因子ChIP-seq数据</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzAxMjQ3MTU5Mg==&amp;mid=401332511&amp;idx=1&amp;sn=527380b4582f74fa8d6204f36a3b59bf&amp;scene=1&amp;srcid=08184oCBpjr2lvXblv7IGbrA#rd" target="_blank" rel="external">转录因子和靶基因系列（三）哪个TF会来结合我这段DNA</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652328491&amp;idx=1&amp;sn=332c92d5d5d44d09a4c8d1b14a4d842b&amp;chksm=84a30e2bb3d4873dadfb93a196596682325a8ee352c319ab357726b07053d0acbd6b6600bc66&amp;mpshare=1&amp;scene=1&amp;srcid=0711QtWkSrRLyvGwxPt3XZ1M#rd" target="_blank" rel="external">要是我有一堆基因，想知道他们的转录因子，要怎么整？</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=404711571&amp;idx=1&amp;sn=5b299c2094755c4488cbb34bf4f1966e&amp;scene=1&amp;srcid=0405SUhLHtcIO7jZFjRQplsB#rd" target="_blank" rel="external">十分钟设计一个转录因子相关的课题，坐稳了，装个逼给你看</a></p><h2 id="表观遗传相关："><a href="#表观遗传相关：" class="headerlink" title="表观遗传相关："></a>表观遗传相关：</h2><hr><p>我们知道，人体内最终发货核心作用的是编码基因所对应的蛋白，而为什么拥有相同的基因组，心肌细胞和肝脏细胞差别那么大呢，一个是转录调控，另外一个重要的就是表观遗传。<br><a href="https://mp.weixin.qq.com/s?__biz=MzAxMjQ3MTU5Mg==&amp;mid=403126333&amp;idx=1&amp;sn=bec5adeee62d6106952cbea10807f641&amp;scene=21#wechat_redirect" target="_blank" rel="external">组蛋白修饰预示着什么？</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzAxMjQ3MTU5Mg==&amp;mid=403170377&amp;idx=1&amp;sn=2c0150fb8b3c43d369b912ce5fc0b642&amp;scene=1&amp;srcid=0818bmzKnOfYc2oluAd7hQTd#rd" target="_blank" rel="external">药物处理多久后能看到组蛋白修饰的变化？</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652326574&amp;idx=1&amp;sn=bfde4ffff778c267c9d193eee1d80253&amp;chksm=84a316aeb3d49fb882b3c8db5e38ffe1fbe4056f838f52c2077d38acf88a37dda7e192840071&amp;mpshare=1&amp;scene=1&amp;srcid=0117SMN4OJRm7NgHHrUVHUdR#rd" target="_blank" rel="external">9分多的LncRNA相关的表观研究是怎么做的？</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652325127&amp;idx=1&amp;sn=0983bda3a0c9a48133c6340757747184&amp;scene=1&amp;srcid=0815ugWNgsWDJ5ZdgkaSs30G#rd" target="_blank" rel="external">跟着岳大师学ENCODE和RoadMap</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652325173&amp;idx=1&amp;sn=160c6e7283528f19153a172b1a0a9521&amp;scene=1&amp;srcid=0819xHr7LGS7W1WsFznRydwq#rd" target="_blank" rel="external">跟着岳大师学ENCODE和RoadMap（二）——利用ENCODE做特定分子的实验</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652325211&amp;idx=1&amp;sn=f6bd8a2951e4ccb0a3df24fbb24c6826&amp;scene=1&amp;srcid=08248iLXV43UKbBTCQTjZkUt#rd" target="_blank" rel="external">跟着岳大师学ENCODE和RoadMap（三）——如何分类查看转录因子并可视化分析ChIP-Seq</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652325256&amp;idx=1&amp;sn=b8cc6f63692e84ff2d042ccc41a536e2&amp;scene=1&amp;srcid=0831F283WdRiFq2pi83DzBKd#rd" target="_blank" rel="external">WashU EpiGenome Browser的基本用法——跟着岳大师学ENCODE和RoadMap（四）</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652325241&amp;idx=1&amp;sn=e317f5e08ffd1de7b859860c0ddaeb78&amp;scene=1&amp;srcid=0829bijfR0wEYcQHkFWtPnWF#rd" target="_blank" rel="external">如何神奇地用ENCODE挖课题</a></p><h2 id="长链非编码RNA相关："><a href="#长链非编码RNA相关：" class="headerlink" title="长链非编码RNA相关："></a>长链非编码RNA相关：</h2><hr><p>按照上面的说法，我觉得目前科研就围绕两个字进行，调控，转录调控，翻译调控，表观遗传，然而那些非编码RNA发挥越来越多的调控作用，<br>这篇帖子要看看<br><a href="https://mp.weixin.qq.com/s?__biz=MzAwMzY4MTYxNw==&amp;mid=2655752632&amp;idx=1&amp;sn=ca419eba81722355028123629e517c20&amp;scene=1&amp;srcid=08241iBomaonK4rs12VcGAH3#rd" target="_blank" rel="external">（文章篇）S5E53：标准化lncRNA课题设计</a><br>但是我们同时看到，大部分团队对于长链非编码RNA的研究只是出于浅表状态，而我们理解的就是<br>老老实实地做RACE确定全长<br>通过RNA-pulldown确定结合蛋白，或者其他方法确定结合的DNA，ＲＮＡ，<br>然后再证明如何起作用，好的文章只做了一件事情，把事情说清楚。<br>然后再看看下面的帖子吧。<br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652326549&amp;idx=1&amp;sn=083dba320b8960bb06183db6b502e7b4&amp;chksm=84a31695b3d49f834d89a9fdc6bed2647435eb8c6e62cd07c3710edc948a02882d79d30f7412&amp;mpshare=1&amp;scene=1&amp;srcid=0116jhVuusVQFyZFt4qyNzzA#rd" target="_blank" rel="external">如何预测LncRNA与蛋白的相互结合？</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzAxMjQ3MTU5Mg==&amp;mid=2650654038&amp;idx=1&amp;sn=b4051d0bcd93d92b1f37d063ba9a0135&amp;scene=1&amp;srcid=0818MJrzGqm04SowA8rFqxZM#rd" target="_blank" rel="external">你的lncRNA是否因SNP而发挥了不同的作用？导致预后的不同？</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652325414&amp;idx=1&amp;sn=ecf8f30460bf60941bbc4ff9c8255a88&amp;scene=1&amp;srcid=0914oXcqUKJw4IgemTntWp2O#rd" target="_blank" rel="external">要怎么证明LncRNA是LncRNA？！</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzAwMzY4MTYxNw==&amp;mid=2655752286&amp;idx=1&amp;sn=2f3bceac106f6ff80b2fb70e951db907&amp;scene=1&amp;srcid=0806ZVd246cbGmeuvGpJNooz#rd" target="_blank" rel="external">（工具篇）：神器之——lncRNA编码能力预测</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652325044&amp;idx=1&amp;sn=441cec218bfef5f2411317262360bc29&amp;scene=1&amp;srcid=0808TQzT4s83x2RjZB3MZ6Pr#rd" target="_blank" rel="external">如何用BLAST来预测lncRNA相关的miRNA</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;mid=2652325072&amp;idx=1&amp;sn=ef5cd95ba460e5f382ba0b09677dfa36&amp;scene=1&amp;srcid=0810uz1Jx93GmuzJDvanFbch#rd" target="_blank" rel="external">为啥你辛辛苦苦做的lncRNA会被reviewer毙掉</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzAwMzY4MTYxNw==&amp;mid=2655756092&amp;idx=1&amp;sn=d896df6445293b11dfe9301e660a4980&amp;chksm=80884302b7ffca144caefeb2aa5d81225441844d9a1a32314d2313dd81f6331202757ab6ea89&amp;mpshare=1&amp;scene=1&amp;srcid=0306QVyZBpBJoNmGamIDMzor#rd" target="_blank" rel="external">如何绘制高大上的RNA二级结构图？</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzAwMzY4MTYxNw==&amp;mid=2655752286&amp;idx=1&amp;sn=2f3bceac106f6ff80b2fb70e951db907&amp;mpshare=1&amp;scene=1&amp;srcid=0224crP52Kpwv9R3GrHUNSjt#rd" target="_blank" rel="external">（工具篇）：神器之——lncRNA编码能力预测</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzAwMzY4MTYxNw==&amp;mid=2655755913&amp;idx=1&amp;sn=fe8654f177ef6b12384cfaa6c75780b0&amp;chksm=808842b7b7ffcba1354b8a904c2ee23b41ce48390fb44e676ccf6095645570434bc6c4b477cb&amp;mpshare=1&amp;scene=1&amp;srcid=0224AOmTPaVUlPAvbViptfDH#rd" target="_blank" rel="external">如何查询分子的物种保守性？</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzAwMzY4MTYxNw==&amp;mid=2655754070&amp;idx=1&amp;sn=68140598db2d91f6b2a20328b37c00cd&amp;chksm=80884b68b7ffc27eeb7854dd519a6ca37cf4da794e42c0af850e1358dc5f2d52d7d047d2470d&amp;mpshare=1&amp;scene=1&amp;srcid=1111juKGdb4NDHppkfHZOoCB#rd" target="_blank" rel="external">如何预测lncRNA的靶基因？</a></p><h2 id="环状RNA相关："><a href="#环状RNA相关：" class="headerlink" title="环状RNA相关："></a>环状RNA相关：</h2><hr><p>对于环状ＲＮＡ，我有个奇怪的想法，临床医生做到这一块的内容，实际上自己能做的少之又少，<br>如何筛选环状ＲＮＡ，请公司做测序<br>如何分析环状ＲＮＡ，生信公司给你作图<br>如何设计引物验证，实际上你不会<br>如何让ＲＮＡ成环，你也不会，请公司做<br>如何敲减，还是不会，实际上很困难<br>所以，一般的团队跟我讲，实际上是同学自豪地跟我说，他研究的方向是环状ＲＮＡ，实际上我的心内五味杂陈，最后汇成一句“你们团队好牛逼”<br><a href="https://mp.weixin.qq.com/s?__biz=MzA5ODkyODAxMw==&amp;mid=2650118639&amp;idx=1&amp;sn=26c3dd73544b9421554967db024ffd73&amp;mpshare=1&amp;scene=1&amp;srcid=0929i2sviOltjxfcZldTeNSt#rd" target="_blank" rel="external">circRNA 引物设计</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzIwOTE1Njg4MA==&amp;mid=2651712150&amp;idx=1&amp;sn=38378e471f6a7ebeaab68b170bab7d9c&amp;scene=1&amp;srcid=0819FSYmce7SqB7FV0H5ZGww#rd" target="_blank" rel="external">环状RNA定量PCR技术详解</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA5ODQ1NDIyMQ==&amp;mid=2649608920&amp;idx=2&amp;sn=7a27b347d677b28024bf2f5109e93ae9&amp;chksm=88882d7abfffa46cfc00fd5ab7b6384e72e5c7d7dbfb5ebcf7972db4750f481b801bfeacddfd&amp;mpshare=1&amp;scene=1&amp;srcid=0717BoTR8JP9WyxJ93f7PSvg#rd" target="_blank" rel="external">circRNA研究必备神器之傻瓜攻略大全</a><br><a href="https://mp.weixin.qq.com/s?__biz=MjM5MzMwNzk5Mg==&amp;mid=2650125735&amp;idx=1&amp;sn=47b7340b57699b1a4a365b04fc02821c&amp;mpshare=1&amp;scene=1&amp;srcid=1001IxvaYsa56JIknkRhPTAA#rd" target="_blank" rel="external">你不能不知道的2个CircRNA研究在线工具！</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA5NjA0ODgxNQ==&amp;mid=2652649736&amp;idx=1&amp;sn=f3451dd73023a658673cf89a8e71a973&amp;chksm=8b5e9ac8bc2913deae4fd2bea7b265ed429bb839c7ae2f0dac108c20dfe5497ac4a3713ba47c&amp;mpshare=1&amp;scene=1&amp;srcid=0419U2hapJDabGKCdYMMVQwS#rd" target="_blank" rel="external">circRNA研究必备工具：circRNA翻译潜能预测</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzI2NjY1NjA5Mw==&amp;mid=2247488374&amp;idx=1&amp;sn=e2a9853403db6f3debce9a8683dd7cc8&amp;source=41#wechat_redirect" target="_blank" rel="external">非编码RNA真的不编码吗？9张图告诉你答案</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzIwOTE1Njg4MA==&amp;mid=2651712722&amp;idx=1&amp;sn=591511fab019280d974fe60789f946cd&amp;chksm=8c8162adbbf6ebbbed1a19d85a7e1e6bc074349969ae085082be2c2c150644b989a773a206d4&amp;mpshare=1&amp;scene=1&amp;srcid=0505NZBUxaSbdirqu3diAfSC#rd" target="_blank" rel="external">环状RNA翻译蛋白研究技术思路剖析</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzIwOTE1Njg4MA==&amp;mid=2651712715&amp;idx=1&amp;sn=a3240cf23ed0ac881d916b7a3fa7bd6a&amp;chksm=8c8162b4bbf6eba2cc20efe9e6bbcd470e6ab2b84917aa9121c887cb0042870147c6fcdfa25b&amp;mpshare=1&amp;scene=1&amp;srcid=0505oo3Gyicr1qjuHHVtC0wf#rd" target="_blank" rel="external">Cell子刊连续两篇环状RNA翻译蛋白文章发表！</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzIwOTE1Njg4MA==&amp;mid=2651712502&amp;idx=1&amp;sn=ae44884790cc54af4e9d0d8406537ae1&amp;chksm=8c816589bbf6ec9f2892d69a2aefd1fa0e35eba912f80a44e1dbe3d11f0e8607819e1dbb3cbe&amp;mpshare=1&amp;scene=1&amp;srcid=1015GGOEc0H3qv2U7u1Gh8sj#rd" target="_blank" rel="external">circRNADb：首个汇总编码蛋白环状RNA的数据库</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzIwOTE1Njg4MA==&amp;mid=2651712512&amp;idx=1&amp;sn=2a8371077d894c9ae49a061607c150fc&amp;chksm=8c81627fbbf6eb6914bd1e87deb4f0a02afd4d53526147d1dd6085b0f675dd68e01e7d8180f7&amp;mpshare=1&amp;scene=1&amp;srcid=1028sT6J16e64hTIb0AWPqap#rd" target="_blank" rel="external">Nature Reviews Genetics探讨环状RNA研究方法现状</a><br>碎碎念：<br>实际上看到这里的人不多，因为这样的帖子肯定是要收藏的，肯定是要跟自己说，以后会好好看的，可是多半不会看。大部分朋友蠢蠢欲动心急火燎地要学习生信，往往无疾而终，心灰意冷的时候，看看这篇帖子，你会重新打量人生，重振雄风的，因为你会发现，想要解决的问题，都有人给你提供方案了。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这里面大部分数据库我都使用过，但是遗憾的是，当年我并没有记录使用的感受，以及各个帖子对于新手的友好程度，甚至在使用&lt;br&gt;某些数据库时，干脆自己把使用文档看了一遍，不过，没关系，你只要知道，想到达到什么目的该用什么数据库就可以了。&lt;/p&gt;
&lt;h2 id=&quot;芯片分析：&quot;&gt;&lt;a href=&quot;#芯片分析：&quot; class=&quot;headerlink&quot; title=&quot;芯片分析：&quot;&gt;&lt;/a&gt;芯片分析：&lt;/h2&gt;&lt;hr&gt;
&lt;p&gt;其实这边跟TCGA帖子有点重合，说到底，数据挖掘有两个作用&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;没有课题的时候产生课题&lt;/li&gt;
&lt;li&gt;没有机制的时候提供思路&lt;br&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;amp;mid=402213634&amp;amp;idx=1&amp;amp;sn=9e0eb84df526c37673a076318539a44c&amp;amp;scene=1&amp;amp;srcid=1210bJRx7dy3KPYOR54UgzU4#rd&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;如何挖别人的数据，写自己的标书&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;amp;mid=402272245&amp;amp;idx=1&amp;amp;sn=aee38cdb53db33f9651b5329a053bd30&amp;amp;scene=1&amp;amp;srcid=1211B2xo6WqyRGvcg89b68zG#rd&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;如何挖别人的数据，写自己的标书 II&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzA3ODU1NjUyNw==&amp;amp;mid=402495911&amp;amp;idx=1&amp;amp;sn=08bb48ea19ba1e39818f576eac22c4f0&amp;amp;scene=1&amp;amp;srcid=1216oMAs0qXMVTfnPCk6q8iV#rd&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;如何挖别人的数据，写自己的标书 3&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzAwMzY4MTYxNw==&amp;amp;mid=2655756603&amp;amp;idx=1&amp;amp;sn=1c1bf8617ab6418c18dad767649ac7d2&amp;amp;chksm=80887d05b7fff4134f7b7a9923208861a5eaee62794511cc7298f6dbc77ca69c06dbef47f285&amp;amp;mpshare=1&amp;amp;scene=1&amp;amp;srcid=0405b0PtNB2lNy5gwdW3qOPh#rd&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;表达谱数据挖掘神器，一个就够！（上）&lt;/a&gt;
    
    </summary>
    
      <category term="生物信息" scheme="http://guoshipeng.com/categories/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/"/>
    
    
      <category term="数据库" scheme="http://guoshipeng.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
</feed>
